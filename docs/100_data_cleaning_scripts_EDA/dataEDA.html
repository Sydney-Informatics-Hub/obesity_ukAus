<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.1.251">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="author" content="Darya Vanichkina">
<title>Obesity UK vs Australian corpus comparison - Loading and exploring the data</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark"><script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
</head>
<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="navbar navbar-expand-lg navbar-dark "><div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Obesity UK vs Australian corpus comparison</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
<li class="nav-item">
    <a class="nav-link" href="../index.html">Home</a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-data-cleaning--eda" role="button" data-bs-toggle="dropdown" aria-expanded="false">Data Cleaning &amp; EDA</a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-data-cleaning--eda">
<li>
    <a class="dropdown-item" href="../100_data_cleaning_scripts_EDA/dataEDA.html">
 <span class="dropdown-text">Dataset comparison and cleaning</span></a>
  </li>  
    </ul>
</li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-analysis" role="button" data-bs-toggle="dropdown" aria-expanded="false">Analysis</a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-analysis">
<li>
    <a class="dropdown-item" href="../400_analysis/ConditionAndPersonFirst.html">
 <span class="dropdown-text">Analysis</span></a>
  </li>  
    </ul>
</li>
</ul>
<ul class="navbar-nav navbar-nav-scroll ms-auto">
<li class="nav-item">
    <a class="nav-link" href="../000_scoping/scoping.html">Scope</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../about.html">Sydney Informatics Hub</a>
  </li>  
</ul>
<div class="quarto-toggle-container">
                  <a href="" class="quarto-color-scheme-toggle nav-link" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
              </div>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<div class="quarto-about-solana column-body">
  <div class="about-entity">
    <div class="entity-contents">
      <header id="title-block-header" class="quarto-title-block default"><div class="quarto-title">
<h1 class="title">Loading and exploring the data</h1>
</div>
<div class="quarto-title-meta">
    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Darya Vanichkina </p>
          </div>
  </div>
  </div>
</header> 
      <div class="about-contents"><main class="content" id="quarto-document-content"><section id="executive-summary" class="level3"><h3 data-anchor-id="executive-summary">Executive summary</h3>
<hr>
<p>In this file, we start by loading and exploring the data for the UK and Australian obesity corpus.</p>
<p>The Australian corpus was first explored (for texts that had &gt;= 3 mentions of the word “obes*“, to maintain consistency with the UK corpus) using the same syntax as in our previous manuscript. This resulted in the”May” dataset (note spaces have been added after the pipe to enable line breaks below; spaces were not part of the original query).</p>
<ul>
<li><p>May Condition-first: “obese (adolescent| adolescents| adult| adults| American| Americans| amputee| amputees| asthmatic| asthmatics| aussie| aussies| australian| Australians| banker| bankers| boss| bosses| boy| boys| Brit| Brits| Canberran| Canberrans| child| children| citizen| citizens| client| clients| contestant| contestants| customer| customers| dad| dads| daughter| daughters| diabetic| diabetics| dieter| dieters| driver| drivers| employee| employees| fan| fans| father| fathers| Frenchman| Frenchmen| Frenchwomen| friend| friends| girl| girls| guy| guys| individual| individuals| kid| kids| ladies| lady| man| men| model| models| mother| mothers| motorist| motorists| mum| mums| pal| pals| parent| parents| participant| participants| passenger| passengers| patient| patients| people| person| persons| preschooler| preschoolers| Queenslander| Queenslanders| resident| residents| smoker| smokers| socialite| socialites| soldier| soldiers| son| sons| student| students| subject| subjects| Tasmanian| Tasmanians| teen| teenager| teenagers| teens| traveller| travellers| Victorian| Victorians| volunteer| volunteers| woman| women| worker| workers| youngster| youngsters)”</p></li>
<li><p>May Person-first: “(adolescent| adolescents| adult| adults| American| Americans| amputee| amputees| asthmatic| asthmatics| aussie| aussies| australian| Australians| banker| bankers| boss| bosses| boy| boys| Brit| Brits| Canberran| Canberrans| child| children| citizen| citizens| client| clients| contestant| contestants| customer| customers| dad| dads| daughter| daughters| diabetic| diabetics| dieter| dieters| driver| drivers| employee| employees| fan| fans| father| fathers| Frenchman| Frenchmen| Frenchwomen| friend| friends| girl| girls| guy| guys| individual| individuals| kid| kids| ladies| lady| man| men| model| models| mother| mothers| motorist| motorists| mum| mums| pal| pals| parent| parents| participant| participants| passenger| passengers| patient| patients| people| person| persons| preschooler| preschoolers| Queenslander| Queenslanders| resident| residents| smoker| smokers| socialite| socialites| soldier| soldiers| son| sons| student| students| subject| subjects| Tasmanian| Tasmanians| teen| teenager| teenagers| teens| traveller| travellers| Victorian| Victorians| volunteer| volunteers| woman| women| worker| workers| youngster| youngsters| those| many) with * obesity”, in subcorpus “Tara Parallel Corpus”</p></li>
</ul>
<p>It was then explored using the same syntax as the UK corpus, resulting in the early July dataset.</p>
<ul>
<li><p>UK Condition first: query “[word=”obese”%c] [semtag=”S2.*”]”</p></li>
<li><p>UK Person first: “[semtag=”S2.*”] [word=”with”] []? [word=”obesity”]”</p></li>
<li><p>July Condition first: “[word=”obese”%c] [semtag=”S2.*”]”, restricted to texts meeting - criteria “<em>obesity_boolean_ukcorpus</em></p></li>
<li><p>July Person-first: “[semtag=”S2.*”] [word=”with”] []? [word=”obesity”]”, restricted to texts meeting criteria “<em>obesity_boolean_ukcorpus</em></p></li>
</ul>
<p>Finally, a different syntax was used to generate the final UK and Australian corpora. This “late July” dataset was used for subsequent comparison and analysis in the paper:</p>
<ul>
<li><p>Condition-first language: “[word=”obese”%c] [fullsemtag=”.<em>S2.</em>”]” (for Australian corpus: meeting criteria “<em>obesity_boolean_ukcorpus</em>: <em>True</em>”)</p></li>
<li><p>Person-first language: “[fullsemtag=”.<em>S2.</em>”] [word=”with”] []? [word=”obesity”]”</p></li>
<li><p>Nominal “the obese”: the_obese_nominal-&gt;Yes (2022-Jul-12 17:55): query “the obese” returned 870 matches in 713 different texts, manually categorised as “1” (UK corpus) and the_obese_nominal (1)-&gt;Yes (2022-Mar-18 05:03): query “the obese”, in subcorpus “Tara Parallel Corpus”, returned 296 matches in 259 different texts, manually categorised as “1&amp;rdquo (Aus corpus)</p></li>
<li><p>Person-first language: UK vs Australia: i.e.&nbsp;<code>uk_with_obesity_new.txt</code> vs <code>aus_subset_with_obesity_new.txt</code>.</p></li>
<li><p>“The adjective lemma OBESE”: UK vs Australia i.e uk_the obese <code>text-frequency-data.txt</code> vs <code>aoc_subset_the_obese_cat_nominal.txt</code></p></li>
</ul>
<div class="cell" data-hash="dataEDA_cache/html/getData_930a549f4879680fc05f75524712d7bc">
<details><summary>Code</summary><div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://here.r-lib.org/">here</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/sfirke/janitor">janitor</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://readr.tidyverse.org">readr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org">ggplot2</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyr.tidyverse.org">tidyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://yihui.org/knitr/">knitr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://patchwork.data-imaginist.com">patchwork</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme_get.html">theme_set</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_minimal</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span><span class="va">read_cqpweb</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">filename</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.csv</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="st">"100_data_raw"</span>, <span class="va">filename</span><span class="op">)</span>, </span>
<span>    skip <span class="op">=</span> <span class="fl">3</span>, sep <span class="op">=</span> <span class="st">"\t"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>    <span class="fu">janitor</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/janitor/man/clean_names.html">clean_names</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html">rename</a></span><span class="op">(</span>article_id <span class="op">=</span> <span class="va">text</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-hash="dataEDA_cache/html/loaddata_3b62a6349ce871cc1f27b21faead8f27">
<details><summary>Code</summary><div class="sourceCode" id="cb2"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">may_aus_cond</span> <span class="op">&lt;-</span> <span class="fu">read_cqpweb</span><span class="op">(</span><span class="st">"may/aoc_subset_condition_first.txt"</span><span class="op">)</span></span>
<span><span class="va">jul_aus_cond</span> <span class="op">&lt;-</span> <span class="fu">read_cqpweb</span><span class="op">(</span><span class="st">"july/aoc_subset_condition_first.txt"</span><span class="op">)</span></span>
<span><span class="va">uk_cond</span> <span class="op">&lt;-</span> <span class="fu">read_cqpweb</span><span class="op">(</span><span class="st">"british_data/uk_condition first lang text-frequency-data.txt"</span><span class="op">)</span> </span>
<span>  </span>
<span><span class="va">may_aus_pers</span> <span class="op">&lt;-</span> <span class="fu">read_cqpweb</span><span class="op">(</span><span class="st">"may/aoc_subset_person_first.txt"</span><span class="op">)</span></span>
<span><span class="va">jul_aus_pers</span> <span class="op">&lt;-</span> <span class="fu">read_cqpweb</span><span class="op">(</span><span class="st">"july/aoc_subset_person_first.txt"</span><span class="op">)</span></span>
<span><span class="va">uk_pers</span> <span class="op">&lt;-</span> <span class="fu">read_cqpweb</span><span class="op">(</span><span class="st">"british_data/uk_person first language text-frequency-data.txt"</span><span class="op">)</span> </span>
<span></span>
<span><span class="va">may_aus_obese</span> <span class="op">&lt;-</span> <span class="fu">read_cqpweb</span><span class="op">(</span><span class="st">"may/aoc_subset_the_obese_cat_nominal.txt"</span><span class="op">)</span></span>
<span><span class="va">jul_aus_obese</span> <span class="op">&lt;-</span> <span class="fu">read_cqpweb</span><span class="op">(</span><span class="st">"july/aoc_subset_the_obese_cat_nominal.txt"</span><span class="op">)</span></span>
<span><span class="va">uk_obes</span> <span class="op">&lt;-</span> <span class="fu">read_cqpweb</span><span class="op">(</span><span class="st">"british_data/uk_the obese nominal text-frequency-data.txt"</span><span class="op">)</span> </span>
<span></span>
<span><span class="co"># grab the late july datasets</span></span>
<span><span class="va">latejul_uk_cond</span> <span class="op">&lt;-</span> <span class="fu">read_cqpweb</span><span class="op">(</span><span class="st">"new_syntax_july22/uk_obese_first_new.txt"</span><span class="op">)</span></span>
<span><span class="va">latejul_au_cond</span> <span class="op">&lt;-</span> <span class="fu">read_cqpweb</span><span class="op">(</span><span class="st">"new_syntax_july22/aus_subset_obese_first_new.txt"</span><span class="op">)</span></span>
<span><span class="va">latejul_uk_pers</span> <span class="op">&lt;-</span> <span class="fu">read_cqpweb</span><span class="op">(</span><span class="st">"new_syntax_july22/uk_with_obesity_new.txt"</span><span class="op">)</span></span>
<span><span class="va">latejul_au_pers</span> <span class="op">&lt;-</span> <span class="fu">read_cqpweb</span><span class="op">(</span><span class="st">"new_syntax_july22/aus_subset_with_obesity_new.txt"</span><span class="op">)</span></span>
<span><span class="va">latejul_uk_theobese</span> <span class="op">&lt;-</span> <span class="fu">read_cqpweb</span><span class="op">(</span><span class="st">"new_syntax_july22/uk_the obese nominal text-frequency-data.txt"</span><span class="op">)</span></span>
<span><span class="va">latejul_au_theobese</span> <span class="op">&lt;-</span> <span class="fu">read_cqpweb</span><span class="op">(</span><span class="st">"new_syntax_july22/aoc_subset_the_obese_cat_nominal.txt"</span><span class="op">)</span></span>
<span><span class="va">latejul_uk_fullwc</span> <span class="op">&lt;-</span> <span class="fu">read_cqpweb</span><span class="op">(</span><span class="st">"new_syntax_july22/UK corpus text-frequency-data.txt"</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">article_id</span>, <span class="va">no_words_in_text</span><span class="op">)</span></span>
<span><span class="va">latejul_au_fullwc</span> <span class="op">&lt;-</span> <span class="fu">read_cqpweb</span><span class="op">(</span><span class="st">"new_syntax_july22/aus_subset_text_frequency_data.txt"</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">article_id</span>, <span class="va">no_words_in_text</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># this is the early JULY dataset!</span></span>
<span><span class="va">all_aus</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html">rbind</a></span><span class="op">(</span><span class="op">{</span><span class="va">jul_aus_cond</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>dataset <span class="op">=</span> <span class="st">"cond"</span><span class="op">)</span><span class="op">}</span>, </span>
<span>                <span class="op">{</span><span class="va">jul_aus_pers</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>dataset <span class="op">=</span> <span class="st">"pers"</span><span class="op">)</span><span class="op">}</span>, </span>
<span>                <span class="op">{</span><span class="va">jul_aus_obese</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>dataset <span class="op">=</span> <span class="st">"obes"</span><span class="op">)</span><span class="op">}</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># late july datasets</span></span>
<span><span class="va">latejul_all_au</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html">rbind</a></span><span class="op">(</span></span>
<span>  <span class="op">{</span><span class="va">latejul_au_cond</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>dataset <span class="op">=</span> <span class="st">"cond"</span><span class="op">)</span><span class="op">}</span>, </span>
<span>  <span class="op">{</span><span class="va">latejul_au_pers</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>dataset <span class="op">=</span> <span class="st">"pers"</span><span class="op">)</span><span class="op">}</span>, </span>
<span>  <span class="op">{</span><span class="va">latejul_au_theobese</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>dataset <span class="op">=</span> <span class="st">"obes"</span><span class="op">)</span><span class="op">}</span><span class="op">)</span></span>
<span></span>
<span><span class="va">latejul_all_uk</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html">rbind</a></span><span class="op">(</span></span>
<span>  <span class="op">{</span><span class="va">latejul_uk_cond</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>dataset <span class="op">=</span> <span class="st">"cond"</span><span class="op">)</span><span class="op">}</span>, </span>
<span>  <span class="op">{</span><span class="va">latejul_uk_pers</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>dataset <span class="op">=</span> <span class="st">"pers"</span><span class="op">)</span><span class="op">}</span>, </span>
<span>  <span class="op">{</span><span class="va">latejul_uk_theobese</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>dataset <span class="op">=</span> <span class="st">"obes"</span><span class="op">)</span><span class="op">}</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># joined datasets</span></span>
<span><span class="va">joined_cond</span> <span class="op">&lt;-</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">full_join</a></span><span class="op">(</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">full_join</a></span><span class="op">(</span><span class="va">may_aus_cond</span>, </span>
<span>                   <span class="va">jul_aus_cond</span>, by <span class="op">=</span> <span class="st">"article_id"</span>, suffix <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"may"</span>, <span class="st">"jul"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  <span class="co"># using suffix = c("may", "jul") doesn't work</span></span>
<span>  <span class="va">latejul_au_cond</span>, by <span class="op">=</span> <span class="st">"article_id"</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html">rename</a></span><span class="op">(</span></span>
<span>        no_words_in_textlatejul <span class="op">=</span> <span class="va">no_words_in_text</span>,</span>
<span>        no_hits_in_textlatejul <span class="op">=</span> <span class="va">no_hits_in_text</span>,</span>
<span>        freq_per_million_wordslatejul <span class="op">=</span> <span class="va">freq_per_million_words</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="va">joined_pers</span> <span class="op">&lt;-</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">full_join</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">full_join</a></span><span class="op">(</span><span class="va">may_aus_pers</span>, <span class="va">jul_aus_pers</span>, by <span class="op">=</span> <span class="st">"article_id"</span>, suffix <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"may"</span>, <span class="st">"jul"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  <span class="co"># using suffix = c("may", "jul") doesn't work</span></span>
<span>  <span class="va">latejul_au_pers</span>, by <span class="op">=</span> <span class="st">"article_id"</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html">rename</a></span><span class="op">(</span></span>
<span>        no_words_in_textlatejul <span class="op">=</span> <span class="va">no_words_in_text</span>,</span>
<span>        no_hits_in_textlatejul <span class="op">=</span> <span class="va">no_hits_in_text</span>,</span>
<span>        freq_per_million_wordslatejul <span class="op">=</span> <span class="va">freq_per_million_words</span></span>
<span>  <span class="op">)</span></span>
<span><span class="va">joined_obese</span> <span class="op">&lt;-</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">full_join</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">full_join</a></span><span class="op">(</span><span class="va">may_aus_obese</span>, <span class="va">jul_aus_obese</span>, by <span class="op">=</span> <span class="st">"article_id"</span>, suffix <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"may"</span>, <span class="st">"jul"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  <span class="co"># using suffix = c("may", "jul") doesn't work</span></span>
<span>  <span class="va">latejul_au_theobese</span>, by <span class="op">=</span> <span class="st">"article_id"</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html">rename</a></span><span class="op">(</span></span>
<span>        no_words_in_textlatejul <span class="op">=</span> <span class="va">no_words_in_text</span>,</span>
<span>        no_hits_in_textlatejul <span class="op">=</span> <span class="va">no_hits_in_text</span>,</span>
<span>        freq_per_million_wordslatejul <span class="op">=</span> <span class="va">freq_per_million_words</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># australian metadata</span></span>
<span><span class="va">aus_tabloid_anno</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html">read_csv</a></span><span class="op">(</span><span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="st">"100_data_raw/aus_subset_data"</span>,</span>
<span>                                    <span class="st">"addition_source_metadata.csv"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">source</span>, <span class="va">source_type</span><span class="op">)</span></span>
<span></span>
<span><span class="va">aus_metadata</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html">read_csv</a></span><span class="op">(</span><span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="st">"100_data_raw/aus_subset_data"</span>,</span>
<span>                                    <span class="st">"corpus_3plus_metadata.csv"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">obesity_boolean_ukcorpus</span> <span class="op">==</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html">rename</a></span><span class="op">(</span>source_code <span class="op">=</span> <span class="va">shortcode</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">article_id</span>, <span class="va">source_code</span>, <span class="va">year</span>, <span class="va">month_metadata</span>, <span class="va">source</span>, <span class="va">date</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html">rename</a></span><span class="op">(</span>month <span class="op">=</span> <span class="va">month_metadata</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">left_join</a></span><span class="op">(</span><span class="va">aus_tabloid_anno</span>, by <span class="op">=</span> <span class="st">"source"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">left_join</a></span><span class="op">(</span><span class="va">latejul_au_fullwc</span>, by <span class="op">=</span> <span class="st">"article_id"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># this is a file I created from information in a spreadsheet Monika provided manually</span></span>
<span><span class="va">uk_source_anno</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html">read_csv</a></span><span class="op">(</span><span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="st">"100_data_raw"</span>, <span class="st">"british_corpus_source_annotation.csv"</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section><section id="australian-data" class="level3"><h3 data-anchor-id="australian-data">Australian Data</h3>
<p>The Australian May and July data don’t seem to match.</p>
<p>The article word counts always do:</p>
<div class="cell" data-hash="dataEDA_cache/html/fig-l20220930181935_fa512aea051bb53b88e090b94e546bf9">
<details><summary>Code</summary><div class="sourceCode" id="cb3"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">p1</span> <span class="op">&lt;-</span> <span class="va">joined_cond</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">no_words_in_textmay</span>,</span>
<span>             y <span class="op">=</span> <span class="va">no_words_in_textjul</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title<span class="op">=</span><span class="st">"Condition first"</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html">geom_abline</a></span><span class="op">(</span>slope <span class="op">=</span> <span class="fl">1</span>, intercept <span class="op">=</span> <span class="fl">0</span>, lty <span class="op">=</span> <span class="fl">2</span>, col <span class="op">=</span> <span class="st">"red"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">p2</span> <span class="op">&lt;-</span> <span class="va">joined_pers</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">no_words_in_textmay</span>,</span>
<span>             y <span class="op">=</span> <span class="va">no_words_in_textjul</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title<span class="op">=</span><span class="st">"Person first"</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html">geom_abline</a></span><span class="op">(</span>slope <span class="op">=</span> <span class="fl">1</span>, intercept <span class="op">=</span> <span class="fl">0</span>, lty <span class="op">=</span> <span class="fl">2</span>, col <span class="op">=</span> <span class="st">"red"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">p3</span> <span class="op">&lt;-</span> <span class="va">joined_obese</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">no_words_in_textmay</span>,</span>
<span>             y <span class="op">=</span> <span class="va">no_words_in_textjul</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title<span class="op">=</span><span class="st">"Obese"</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html">geom_abline</a></span><span class="op">(</span>slope <span class="op">=</span> <span class="fl">1</span>, intercept <span class="op">=</span> <span class="fl">0</span>, lty <span class="op">=</span> <span class="fl">2</span>, col <span class="op">=</span> <span class="st">"red"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">p1</span> <span class="op">|</span> <span class="va">p2</span> <span class="op">|</span> <span class="va">p3</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div id="fig-l20220930181935" class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="dataEDA_files/figure-html/fig-l20220930181935-1.png" class="img-fluid figure-img" width="672"></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;1: Scatter plot of CQP-Web generated article word counts between the May and July Australian corpus.</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>The same is true for the two July datasets.</p>
<p>But then the raw counts do not:</p>
<div class="cell" data-hash="dataEDA_cache/html/fig-l20220930182052_d93d5813a6080b3fa6fce3f4b915a207">
<details><summary>Code</summary><div class="sourceCode" id="cb4"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">p1</span> <span class="op">&lt;-</span> <span class="va">joined_cond</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">no_hits_in_textmay</span>,</span>
<span>             y <span class="op">=</span> <span class="va">no_hits_in_textjul</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title<span class="op">=</span><span class="st">"Condition first"</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html">geom_abline</a></span><span class="op">(</span>slope <span class="op">=</span> <span class="fl">1</span>, intercept <span class="op">=</span> <span class="fl">0</span>, lty <span class="op">=</span> <span class="fl">2</span>, col <span class="op">=</span> <span class="st">"red"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">p2</span> <span class="op">&lt;-</span> <span class="va">joined_pers</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">no_hits_in_textmay</span>,</span>
<span>             y <span class="op">=</span> <span class="va">no_hits_in_textjul</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title<span class="op">=</span><span class="st">"Person first"</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html">geom_abline</a></span><span class="op">(</span>slope <span class="op">=</span> <span class="fl">1</span>, intercept <span class="op">=</span> <span class="fl">0</span>, lty <span class="op">=</span> <span class="fl">2</span>, col <span class="op">=</span> <span class="st">"red"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">p3</span> <span class="op">&lt;-</span> <span class="va">joined_obese</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">no_hits_in_textmay</span>,</span>
<span>             y <span class="op">=</span> <span class="va">no_hits_in_textjul</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title<span class="op">=</span><span class="st">"Obese"</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html">geom_abline</a></span><span class="op">(</span>slope <span class="op">=</span> <span class="fl">1</span>, intercept <span class="op">=</span> <span class="fl">0</span>, lty <span class="op">=</span> <span class="fl">2</span>, col <span class="op">=</span> <span class="st">"red"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">p1</span> <span class="op">|</span> <span class="va">p2</span> <span class="op">|</span> <span class="va">p3</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div id="fig-l20220930182052" class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="dataEDA_files/figure-html/fig-l20220930182052-1.png" class="img-fluid figure-img" width="672"></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;2: Comparison of the number of hits in text parameter from CQP-Web between the May and July corpus indicate that a different number of hits are retrieved using the different query syntax.</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>The same is true when comparing the two July datasets:</p>
<div class="cell" data-hash="dataEDA_cache/html/fig-l20220930182254_191c26d7055bd8b0dba66980ce163afa">
<details><summary>Code</summary><div class="sourceCode" id="cb5"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">p1</span> <span class="op">&lt;-</span> <span class="va">joined_cond</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">no_hits_in_textlatejul</span>,</span>
<span>             y <span class="op">=</span> <span class="va">no_hits_in_textjul</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title<span class="op">=</span><span class="st">"Condition first"</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html">geom_abline</a></span><span class="op">(</span>slope <span class="op">=</span> <span class="fl">1</span>, intercept <span class="op">=</span> <span class="fl">0</span>, lty <span class="op">=</span> <span class="fl">2</span>, col <span class="op">=</span> <span class="st">"red"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">p2</span> <span class="op">&lt;-</span> <span class="va">joined_pers</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">no_hits_in_textlatejul</span>,</span>
<span>             y <span class="op">=</span> <span class="va">no_hits_in_textjul</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title<span class="op">=</span><span class="st">"Person first"</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html">geom_abline</a></span><span class="op">(</span>slope <span class="op">=</span> <span class="fl">1</span>, intercept <span class="op">=</span> <span class="fl">0</span>, lty <span class="op">=</span> <span class="fl">2</span>, col <span class="op">=</span> <span class="st">"red"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">p3</span> <span class="op">&lt;-</span> <span class="va">joined_obese</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">no_hits_in_textlatejul</span>,</span>
<span>             y <span class="op">=</span> <span class="va">no_hits_in_textjul</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title<span class="op">=</span><span class="st">"Obese"</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html">geom_abline</a></span><span class="op">(</span>slope <span class="op">=</span> <span class="fl">1</span>, intercept <span class="op">=</span> <span class="fl">0</span>, lty <span class="op">=</span> <span class="fl">2</span>, col <span class="op">=</span> <span class="st">"red"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">p1</span> <span class="op">|</span> <span class="va">p2</span> <span class="op">|</span> <span class="va">p3</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div id="fig-l20220930182254" class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="dataEDA_files/figure-html/fig-l20220930182254-1.png" class="img-fluid figure-img" width="672"></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;3: Comparison of the number of hits in text between the two datasets generated in July.</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>And so the frequencies don’t either, for “Condition-first” and “Person-first” language.</p>
<p>How many articles show a mismatch, for condition-first language?</p>
<ul>
<li>Matches: article id is in both datasets, number of instances match</li>
<li>Counts don’t match: article id is in both datasets, number of instances do not match</li>
<li>Only July: article id is only in the early July dataset</li>
<li>Only May: article id is only in the May dataset</li>
</ul>
<div class="cell" data-hash="dataEDA_cache/html/tbl-l20220930182321_11bf74d223cd6b776b4dc98c294f180c">
<details><summary>Code</summary><div class="sourceCode" id="cb6"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">joined_cond</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>matching_count <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="va">no_hits_in_textjul</span> <span class="op">==</span> <span class="va">no_hits_in_textmay</span><span class="op">)</span>,</span>
<span>         unmatching_count <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="va">no_hits_in_textjul</span> <span class="op">!=</span> <span class="va">no_hits_in_textmay</span><span class="op">)</span>,</span>
<span>         only_july <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">no_hits_in_textmay</span><span class="op">)</span><span class="op">)</span>,</span>
<span>         only_may <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">no_hits_in_textjul</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize</a></span><span class="op">(</span>matches <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">matching_count</span>, na.rm <span class="op">=</span> <span class="cn">T</span><span class="op">)</span>,</span>
<span>            counts_dont_match <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">unmatching_count</span>, na.rm <span class="op">=</span> <span class="cn">T</span><span class="op">)</span>,</span>
<span>            only_july <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">only_july</span>, na.rm <span class="op">=</span> <span class="cn">T</span><span class="op">)</span>,</span>
<span>            only_may <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">only_may</span>, na.rm <span class="op">=</span> <span class="cn">T</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div id="tbl-l20220930182321">
<table class="table table-sm table-striped">
<caption>Table&nbsp;1: Comparison of number of articles retrieved using the condition-first language search in the May and early July scrapes.</caption>
<thead><tr class="header">
<th style="text-align: right;">matches</th>
<th style="text-align: right;">counts_dont_match</th>
<th style="text-align: right;">only_july</th>
<th style="text-align: right;">only_may</th>
</tr></thead>
<tbody><tr class="odd">
<td style="text-align: right;">949</td>
<td style="text-align: right;">297</td>
<td style="text-align: right;">60</td>
<td style="text-align: right;">502</td>
</tr></tbody>
</table>
</div>
</div>
</div>
<p>What about the two July datasets?:</p>
<div class="cell" data-hash="dataEDA_cache/html/tbl-l20220930182321b_8c1b6d76e5cf9d98e1e367997c9ff14f">
<details><summary>Code</summary><div class="sourceCode" id="cb7"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">joined_cond</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>matching_count <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="va">no_hits_in_textjul</span> <span class="op">==</span> <span class="va">no_hits_in_textlatejul</span><span class="op">)</span>,</span>
<span>         unmatching_count <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="va">no_hits_in_textjul</span> <span class="op">!=</span> <span class="va">no_hits_in_textlatejul</span><span class="op">)</span>,</span>
<span>         only_july <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">no_hits_in_textlatejul</span><span class="op">)</span><span class="op">)</span>,</span>
<span>         only_latejul <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">no_hits_in_textjul</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize</a></span><span class="op">(</span>matches <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">matching_count</span>, na.rm <span class="op">=</span> <span class="cn">T</span><span class="op">)</span>,</span>
<span>            counts_dont_match <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">unmatching_count</span>, na.rm <span class="op">=</span> <span class="cn">T</span><span class="op">)</span>,</span>
<span>            only_july <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">only_july</span>, na.rm <span class="op">=</span> <span class="cn">T</span><span class="op">)</span>,</span>
<span>            only_latejul <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">only_latejul</span>, na.rm <span class="op">=</span> <span class="cn">T</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div id="tbl-l20220930182321b">
<table class="table table-sm table-striped">
<caption>Table&nbsp;2: Comparison of number of articles retrieved using the condition-first language search in the early and late July scrapes.</caption>
<thead><tr class="header">
<th style="text-align: right;">matches</th>
<th style="text-align: right;">counts_dont_match</th>
<th style="text-align: right;">only_july</th>
<th style="text-align: right;">only_latejul</th>
</tr></thead>
<tbody><tr class="odd">
<td style="text-align: right;">990</td>
<td style="text-align: right;">274</td>
<td style="text-align: right;">77</td>
<td style="text-align: right;">502</td>
</tr></tbody>
</table>
</div>
</div>
</div>
<p>Late July syntax clearly picks up more data.</p>
<p>And for person-first language?</p>
<div class="cell" data-hash="dataEDA_cache/html/tbl-l20220930182321c_5fd73b0e0d29d85f205017dc1d022159">
<details><summary>Code</summary><div class="sourceCode" id="cb8"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">joined_pers</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>matching_count <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="va">no_hits_in_textjul</span> <span class="op">==</span> <span class="va">no_hits_in_textmay</span><span class="op">)</span>,</span>
<span>         unmatching_count <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="va">no_hits_in_textjul</span> <span class="op">!=</span> <span class="va">no_hits_in_textmay</span><span class="op">)</span>,</span>
<span>         only_july <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">no_hits_in_textmay</span><span class="op">)</span><span class="op">)</span>,</span>
<span>         only_may <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">no_hits_in_textjul</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize</a></span><span class="op">(</span>matches <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">matching_count</span>, na.rm <span class="op">=</span> <span class="cn">T</span><span class="op">)</span>,</span>
<span>            counts_dont_match <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">unmatching_count</span>, na.rm <span class="op">=</span> <span class="cn">T</span><span class="op">)</span>,</span>
<span>            only_july <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">only_july</span>, na.rm <span class="op">=</span> <span class="cn">T</span><span class="op">)</span>,</span>
<span>            only_may <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">only_may</span>, na.rm <span class="op">=</span> <span class="cn">T</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div id="tbl-l20220930182321c">
<table class="table table-sm table-striped">
<caption>Table&nbsp;3: Comparison of number of articles retrieved using the person-first language search in the May and early July scrapes.</caption>
<thead><tr class="header">
<th style="text-align: right;">matches</th>
<th style="text-align: right;">counts_dont_match</th>
<th style="text-align: right;">only_july</th>
<th style="text-align: right;">only_may</th>
</tr></thead>
<tbody><tr class="odd">
<td style="text-align: right;">52</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">24</td>
</tr></tbody>
</table>
</div>
</div>
</div>
<div class="cell" data-hash="dataEDA_cache/html/tbl-l20220930182321d_faf200a58adff4e439f5f9d4fb24eb44">
<details><summary>Code</summary><div class="sourceCode" id="cb9"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">joined_pers</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>matching_count <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="va">no_hits_in_textjul</span> <span class="op">==</span> <span class="va">no_hits_in_textlatejul</span><span class="op">)</span>,</span>
<span>         unmatching_count <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="va">no_hits_in_textjul</span> <span class="op">!=</span> <span class="va">no_hits_in_textlatejul</span><span class="op">)</span>,</span>
<span>         only_july <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">no_hits_in_textlatejul</span><span class="op">)</span><span class="op">)</span>,</span>
<span>         only_latejul <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">no_hits_in_textjul</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize</a></span><span class="op">(</span>matches <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">matching_count</span>, na.rm <span class="op">=</span> <span class="cn">T</span><span class="op">)</span>,</span>
<span>            counts_dont_match <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">unmatching_count</span>, na.rm <span class="op">=</span> <span class="cn">T</span><span class="op">)</span>,</span>
<span>            only_july <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">only_july</span>, na.rm <span class="op">=</span> <span class="cn">T</span><span class="op">)</span>,</span>
<span>            only_latejul <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">only_latejul</span>, na.rm <span class="op">=</span> <span class="cn">T</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div id="tbl-l20220930182321d">
<table class="table table-sm table-striped">
<caption>Table&nbsp;4: Comparison of number of articles retrieved using the person-first language search in the early and late July scrapes.</caption>
<thead><tr class="header">
<th style="text-align: right;">matches</th>
<th style="text-align: right;">counts_dont_match</th>
<th style="text-align: right;">only_july</th>
<th style="text-align: right;">only_latejul</th>
</tr></thead>
<tbody><tr class="odd">
<td style="text-align: right;">53</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">24</td>
</tr></tbody>
</table>
</div>
</div>
</div>
<p>A similar trend is observed between the late July and early July exports.</p>
</section><section id="uk-data" class="level3"><h3 data-anchor-id="uk-data">UK Data</h3>
<p>The UK data was not provided with any metadata, so we will need to break apart the text id to infer this information.</p>
<div class="cell" data-hash="dataEDA_cache/html/generateUKmetadata_66459f043d7eed952eacb603c221162a">
<details><summary>Code</summary><div class="sourceCode" id="cb10"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">clean_uk</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">df</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="va">df</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span></span>
<span>    dateid <span class="op">=</span> <span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_extract.html">str_extract</a></span><span class="op">(</span><span class="va">article_id</span>, <span class="st">"_.*"</span><span class="op">)</span>,</span>
<span>    sourceyrmo <span class="op">=</span> <span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_extract.html">str_extract</a></span><span class="op">(</span><span class="va">article_id</span>, <span class="st">".*_"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span></span>
<span>    dateid <span class="op">=</span> <span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_replace.html">str_replace</a></span><span class="op">(</span><span class="va">dateid</span>, <span class="st">"_"</span>, <span class="st">""</span><span class="op">)</span>,</span>
<span>    sourceyrmo <span class="op">=</span> <span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_replace.html">str_replace</a></span><span class="op">(</span><span class="va">sourceyrmo</span>, <span class="st">"_"</span>, <span class="st">""</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span></span>
<span>    source_code <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/substr.html">substr</a></span><span class="op">(</span><span class="va">sourceyrmo</span>, <span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>    year <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">"20"</span>, <span class="fu"><a href="https://rdrr.io/r/base/substr.html">substr</a></span><span class="op">(</span><span class="va">sourceyrmo</span>, <span class="fl">3</span>,<span class="fl">4</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    month <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/substr.html">substr</a></span><span class="op">(</span><span class="va">sourceyrmo</span>, <span class="fl">5</span>, <span class="fu"><a href="https://rdrr.io/r/base/nchar.html">nchar</a></span><span class="op">(</span><span class="va">sourceyrmo</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    day <span class="op">=</span> <span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_extract.html">str_extract</a></span><span class="op">(</span><span class="va">dateid</span>, <span class="st">"\\d+"</span><span class="op">)</span>,</span>
<span>    index <span class="op">=</span> <span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_extract.html">str_extract</a></span><span class="op">(</span><span class="va">dateid</span>, <span class="st">"[a-z]+"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">sourceyrmo</span>, <span class="op">-</span><span class="va">dateid</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>tmpdate <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="va">day</span>, <span class="va">month</span>, <span class="va">year</span>, sep <span class="op">=</span> <span class="st">"/"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>date <span class="op">=</span> <span class="fu">lubridate</span><span class="fu">::</span><span class="fu"><a href="https://lubridate.tidyverse.org/reference/ymd.html">dmy</a></span><span class="op">(</span><span class="va">tmpdate</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">tmpdate</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">left_join</a></span><span class="op">(</span><span class="va">uk_source_anno</span>, by <span class="op">=</span> <span class="st">"source_code"</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span></span>
<span><span class="va">uk_cond_clean</span> <span class="op">&lt;-</span><span class="fu">clean_uk</span><span class="op">(</span><span class="va">uk_cond</span><span class="op">)</span></span>
<span><span class="va">uk_pers_clean</span> <span class="op">&lt;-</span><span class="fu">clean_uk</span><span class="op">(</span><span class="va">uk_pers</span><span class="op">)</span></span>
<span><span class="va">uk_obes_clean</span> <span class="op">&lt;-</span><span class="fu">clean_uk</span><span class="op">(</span><span class="va">uk_obes</span><span class="op">)</span></span>
<span><span class="va">latejul_uk_fullwc_clean</span> <span class="op">&lt;-</span> <span class="fu">clean_uk</span><span class="op">(</span><span class="va">latejul_uk_fullwc</span><span class="op">)</span></span>
<span><span class="va">uk_all_of_interest</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html">rbind</a></span><span class="op">(</span></span>
<span>  <span class="op">{</span><span class="va">uk_cond_clean</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>dataset <span class="op">=</span> <span class="st">"cond"</span><span class="op">)</span><span class="op">}</span>, </span>
<span>  <span class="op">{</span><span class="va">uk_pers_clean</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>dataset <span class="op">=</span> <span class="st">"pers"</span><span class="op">)</span><span class="op">}</span>, </span>
<span>  <span class="op">{</span><span class="va">uk_obes_clean</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>dataset <span class="op">=</span> <span class="st">"obes"</span><span class="op">)</span><span class="op">}</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>What sources are there?</p>
<div class="cell" data-hash="dataEDA_cache/html/tbl-l20220930183328_0bbfb614a2ab77fe731f617d1ea09439">
<details><summary>Code</summary><div class="sourceCode" id="cb11"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">uk_all_of_interest</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">dataset</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html">count</a></span><span class="op">(</span><span class="va">source</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_wider.html">pivot_wider</a></span><span class="op">(</span>names_from<span class="op">=</span><span class="va">dataset</span>, values_from <span class="op">=</span> <span class="va">n</span>, values_fill <span class="op">=</span> <span class="fl">0</span>, id_cols<span class="op">=</span><span class="va">source</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">full_join</a></span><span class="op">(</span><span class="op">{</span><span class="va">latejul_uk_fullwc_clean</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">source</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html">count</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html">rename</a></span><span class="op">(</span>total_articles_in_corpus<span class="op">=</span><span class="va">n</span><span class="op">)</span><span class="op">}</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div id="tbl-l20220930183328">
<table class="table table-sm table-striped">
<caption>Table&nbsp;5: UK source publication, and number of articles from each of them that feature each of the language types of interest.</caption>
<thead><tr class="header">
<th style="text-align: left;">source</th>
<th style="text-align: right;">cond</th>
<th style="text-align: right;">obes</th>
<th style="text-align: right;">pers</th>
<th style="text-align: right;">total_articles_in_corpus</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Daily Express</td>
<td style="text-align: right;">187</td>
<td style="text-align: right;">53</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">1272</td>
</tr>
<tr class="even">
<td style="text-align: left;">Daily Mail</td>
<td style="text-align: right;">436</td>
<td style="text-align: right;">121</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">2329</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Daily Star</td>
<td style="text-align: right;">60</td>
<td style="text-align: right;">13</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">483</td>
</tr>
<tr class="even">
<td style="text-align: left;">Daily Telegraph</td>
<td style="text-align: right;">284</td>
<td style="text-align: right;">69</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">1762</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Guardian</td>
<td style="text-align: right;">319</td>
<td style="text-align: right;">53</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">2051</td>
</tr>
<tr class="even">
<td style="text-align: left;">Independent</td>
<td style="text-align: right;">199</td>
<td style="text-align: right;">40</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">1326</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Mirror</td>
<td style="text-align: right;">351</td>
<td style="text-align: right;">38</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">1913</td>
</tr>
<tr class="even">
<td style="text-align: left;">Sun</td>
<td style="text-align: right;">254</td>
<td style="text-align: right;">39</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">1804</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Times</td>
<td style="text-align: right;">405</td>
<td style="text-align: right;">90</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">2417</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>What years do we have for each of the sources?</p>
<p>For condition-first language:</p>
<div class="cell" data-hash="dataEDA_cache/html/tbl-l20220930183416_0d1cba2c9c243a7419e124c514203f88">
<details><summary>Code</summary><div class="sourceCode" id="cb12"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">uk_all_of_interest</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">dataset</span> <span class="op">==</span> <span class="st">"cond"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">year</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html">count</a></span><span class="op">(</span><span class="va">source</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_wider.html">pivot_wider</a></span><span class="op">(</span>names_from<span class="op">=</span><span class="va">year</span>, values_from <span class="op">=</span> <span class="va">n</span>, values_fill <span class="op">=</span> <span class="fl">0</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/t.html">t</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div id="tbl-l20220930183416">
<table class="table table-sm table-striped">
<caption>Table&nbsp;6: Number of articles featuring condition-first language by year and source in the UK corpus.</caption>
<colgroup>
<col style="width: 7%">
<col style="width: 14%">
<col style="width: 11%">
<col style="width: 11%">
<col style="width: 16%">
<col style="width: 9%">
<col style="width: 12%">
<col style="width: 7%">
<col style="width: 4%">
<col style="width: 6%">
</colgroup>
<tbody>
<tr class="odd">
<td style="text-align: left;">source</td>
<td style="text-align: left;">Daily Express</td>
<td style="text-align: left;">Daily Mail</td>
<td style="text-align: left;">Daily Star</td>
<td style="text-align: left;">Daily Telegraph</td>
<td style="text-align: left;">Guardian</td>
<td style="text-align: left;">Independent</td>
<td style="text-align: left;">Mirror</td>
<td style="text-align: left;">Sun</td>
<td style="text-align: left;">Times</td>
</tr>
<tr class="even">
<td style="text-align: left;">2006</td>
<td style="text-align: left;">3</td>
<td style="text-align: left;">43</td>
<td style="text-align: left;">9</td>
<td style="text-align: left;">24</td>
<td style="text-align: left;">25</td>
<td style="text-align: left;">25</td>
<td style="text-align: left;">27</td>
<td style="text-align: left;">15</td>
<td style="text-align: left;">43</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2007</td>
<td style="text-align: left;">7</td>
<td style="text-align: left;">66</td>
<td style="text-align: left;">14</td>
<td style="text-align: left;">27</td>
<td style="text-align: left;">39</td>
<td style="text-align: left;">19</td>
<td style="text-align: left;">26</td>
<td style="text-align: left;">17</td>
<td style="text-align: left;">51</td>
</tr>
<tr class="even">
<td style="text-align: left;">2008</td>
<td style="text-align: left;">9</td>
<td style="text-align: left;">66</td>
<td style="text-align: left;">11</td>
<td style="text-align: left;">33</td>
<td style="text-align: left;">35</td>
<td style="text-align: left;">14</td>
<td style="text-align: left;">37</td>
<td style="text-align: left;">31</td>
<td style="text-align: left;">43</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2009</td>
<td style="text-align: left;">32</td>
<td style="text-align: left;">34</td>
<td style="text-align: left;">5</td>
<td style="text-align: left;">10</td>
<td style="text-align: left;">20</td>
<td style="text-align: left;">8</td>
<td style="text-align: left;">32</td>
<td style="text-align: left;">29</td>
<td style="text-align: left;">31</td>
</tr>
<tr class="even">
<td style="text-align: left;">2010</td>
<td style="text-align: left;">22</td>
<td style="text-align: left;">30</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">11</td>
<td style="text-align: left;">32</td>
<td style="text-align: left;">9</td>
<td style="text-align: left;">38</td>
<td style="text-align: left;">15</td>
<td style="text-align: left;">23</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2011</td>
<td style="text-align: left;">44</td>
<td style="text-align: left;">43</td>
<td style="text-align: left;">6</td>
<td style="text-align: left;">18</td>
<td style="text-align: left;">23</td>
<td style="text-align: left;">18</td>
<td style="text-align: left;">40</td>
<td style="text-align: left;">24</td>
<td style="text-align: left;">24</td>
</tr>
<tr class="even">
<td style="text-align: left;">2012</td>
<td style="text-align: left;">22</td>
<td style="text-align: left;">30</td>
<td style="text-align: left;">3</td>
<td style="text-align: left;">53</td>
<td style="text-align: left;">18</td>
<td style="text-align: left;">11</td>
<td style="text-align: left;">63</td>
<td style="text-align: left;">29</td>
<td style="text-align: left;">26</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2013</td>
<td style="text-align: left;">15</td>
<td style="text-align: left;">19</td>
<td style="text-align: left;">2</td>
<td style="text-align: left;">27</td>
<td style="text-align: left;">26</td>
<td style="text-align: left;">12</td>
<td style="text-align: left;">18</td>
<td style="text-align: left;">21</td>
<td style="text-align: left;">36</td>
</tr>
<tr class="even">
<td style="text-align: left;">2014</td>
<td style="text-align: left;">11</td>
<td style="text-align: left;">46</td>
<td style="text-align: left;">2</td>
<td style="text-align: left;">34</td>
<td style="text-align: left;">35</td>
<td style="text-align: left;">25</td>
<td style="text-align: left;">30</td>
<td style="text-align: left;">17</td>
<td style="text-align: left;">40</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2015</td>
<td style="text-align: left;">11</td>
<td style="text-align: left;">38</td>
<td style="text-align: left;">5</td>
<td style="text-align: left;">32</td>
<td style="text-align: left;">39</td>
<td style="text-align: left;">25</td>
<td style="text-align: left;">23</td>
<td style="text-align: left;">34</td>
<td style="text-align: left;">54</td>
</tr>
<tr class="even">
<td style="text-align: left;">2016</td>
<td style="text-align: left;">11</td>
<td style="text-align: left;">21</td>
<td style="text-align: left;">2</td>
<td style="text-align: left;">15</td>
<td style="text-align: left;">27</td>
<td style="text-align: left;">33</td>
<td style="text-align: left;">17</td>
<td style="text-align: left;">22</td>
<td style="text-align: left;">34</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>For person-first language:</p>
<div class="cell" data-hash="dataEDA_cache/html/tbl-l20220930183416b_c368bb101603eff147f81c3785e2a529">
<details><summary>Code</summary><div class="sourceCode" id="cb13"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">uk_all_of_interest</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">dataset</span> <span class="op">==</span> <span class="st">"pers"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">year</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html">count</a></span><span class="op">(</span><span class="va">source</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_wider.html">pivot_wider</a></span><span class="op">(</span>names_from<span class="op">=</span><span class="va">year</span>, values_from <span class="op">=</span> <span class="va">n</span>, values_fill <span class="op">=</span> <span class="fl">0</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/t.html">t</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div id="tbl-l20220930183416b">
<table class="table table-sm table-striped">
<caption>Table&nbsp;7: Number of articles featuring person-first language by year and source in the UK corpus.</caption>
<colgroup>
<col style="width: 8%">
<col style="width: 6%">
<col style="width: 18%">
<col style="width: 16%">
<col style="width: 10%">
<col style="width: 8%">
<col style="width: 12%">
<col style="width: 13%">
<col style="width: 4%">
</colgroup>
<tbody>
<tr class="odd">
<td style="text-align: left;">source</td>
<td style="text-align: left;">Times</td>
<td style="text-align: left;">Daily Telegraph</td>
<td style="text-align: left;">Daily Express</td>
<td style="text-align: left;">Guardian</td>
<td style="text-align: left;">Mirror</td>
<td style="text-align: left;">Daily Mail</td>
<td style="text-align: left;">Independent</td>
<td style="text-align: left;">Sun</td>
</tr>
<tr class="even">
<td style="text-align: left;">2006</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2008</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">2009</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">2</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2010</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">2</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">2011</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">2</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2012</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">2</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">5</td>
</tr>
<tr class="even">
<td style="text-align: left;">2013</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2014</td>
<td style="text-align: left;">3</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">3</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">2015</td>
<td style="text-align: left;">4</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">2</td>
<td style="text-align: left;">3</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2016</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">3</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">2</td>
<td style="text-align: left;">2</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">2</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>For the adjective lemma OBESE:</p>
<div class="cell" data-hash="dataEDA_cache/html/tbl-l20220930183416c_a35f22bd821b7b2397d40585d07b770c">
<details><summary>Code</summary><div class="sourceCode" id="cb14"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">uk_all_of_interest</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">dataset</span> <span class="op">==</span> <span class="st">"obes"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">year</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html">count</a></span><span class="op">(</span><span class="va">source</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_wider.html">pivot_wider</a></span><span class="op">(</span>names_from<span class="op">=</span><span class="va">year</span>, values_from <span class="op">=</span> <span class="va">n</span>, values_fill <span class="op">=</span> <span class="fl">0</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/t.html">t</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div id="tbl-l20220930183416c">
<table class="table table-sm table-striped">
<caption>Table&nbsp;8: Number of articles featuring the adjective lemma OBESE by year and source in the UK corpus.</caption>
<colgroup>
<col style="width: 7%">
<col style="width: 11%">
<col style="width: 11%">
<col style="width: 16%">
<col style="width: 9%">
<col style="width: 12%">
<col style="width: 7%">
<col style="width: 4%">
<col style="width: 6%">
<col style="width: 14%">
</colgroup>
<tbody>
<tr class="odd">
<td style="text-align: left;">source</td>
<td style="text-align: left;">Daily Mail</td>
<td style="text-align: left;">Daily Star</td>
<td style="text-align: left;">Daily Telegraph</td>
<td style="text-align: left;">Guardian</td>
<td style="text-align: left;">Independent</td>
<td style="text-align: left;">Mirror</td>
<td style="text-align: left;">Sun</td>
<td style="text-align: left;">Times</td>
<td style="text-align: left;">Daily Express</td>
</tr>
<tr class="even">
<td style="text-align: left;">2006</td>
<td style="text-align: left;">15</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">4</td>
<td style="text-align: left;">2</td>
<td style="text-align: left;">4</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">2</td>
<td style="text-align: left;">9</td>
<td style="text-align: left;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2007</td>
<td style="text-align: left;">16</td>
<td style="text-align: left;">5</td>
<td style="text-align: left;">5</td>
<td style="text-align: left;">6</td>
<td style="text-align: left;">7</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">7</td>
<td style="text-align: left;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">2008</td>
<td style="text-align: left;">20</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">11</td>
<td style="text-align: left;">3</td>
<td style="text-align: left;">5</td>
<td style="text-align: left;">3</td>
<td style="text-align: left;">2</td>
<td style="text-align: left;">6</td>
<td style="text-align: left;">4</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2009</td>
<td style="text-align: left;">8</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">6</td>
<td style="text-align: left;">3</td>
<td style="text-align: left;">4</td>
<td style="text-align: left;">2</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">3</td>
<td style="text-align: left;">6</td>
</tr>
<tr class="even">
<td style="text-align: left;">2010</td>
<td style="text-align: left;">8</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">3</td>
<td style="text-align: left;">5</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">3</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">4</td>
<td style="text-align: left;">14</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2011</td>
<td style="text-align: left;">12</td>
<td style="text-align: left;">4</td>
<td style="text-align: left;">2</td>
<td style="text-align: left;">4</td>
<td style="text-align: left;">5</td>
<td style="text-align: left;">9</td>
<td style="text-align: left;">2</td>
<td style="text-align: left;">8</td>
<td style="text-align: left;">8</td>
</tr>
<tr class="even">
<td style="text-align: left;">2012</td>
<td style="text-align: left;">4</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">12</td>
<td style="text-align: left;">5</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">3</td>
<td style="text-align: left;">10</td>
<td style="text-align: left;">4</td>
<td style="text-align: left;">11</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2013</td>
<td style="text-align: left;">6</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">6</td>
<td style="text-align: left;">6</td>
<td style="text-align: left;">3</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">3</td>
<td style="text-align: left;">2</td>
<td style="text-align: left;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">2014</td>
<td style="text-align: left;">9</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">12</td>
<td style="text-align: left;">11</td>
<td style="text-align: left;">3</td>
<td style="text-align: left;">8</td>
<td style="text-align: left;">4</td>
<td style="text-align: left;">14</td>
<td style="text-align: left;">6</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2015</td>
<td style="text-align: left;">15</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">4</td>
<td style="text-align: left;">5</td>
<td style="text-align: left;">6</td>
<td style="text-align: left;">7</td>
<td style="text-align: left;">9</td>
<td style="text-align: left;">22</td>
<td style="text-align: left;">4</td>
</tr>
<tr class="even">
<td style="text-align: left;">2016</td>
<td style="text-align: left;">8</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">4</td>
<td style="text-align: left;">3</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">2</td>
<td style="text-align: left;">4</td>
<td style="text-align: left;">11</td>
<td style="text-align: left;">0</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>For the entire corpus:</p>
<div class="cell" data-hash="dataEDA_cache/html/tbl-l20220930183531z_3943cc7aa075acee5a1b7bba46480480">
<details><summary>Code</summary><div class="sourceCode" id="cb15"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">latejul_uk_fullwc_clean</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">year</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html">count</a></span><span class="op">(</span><span class="va">source</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_wider.html">pivot_wider</a></span><span class="op">(</span>names_from<span class="op">=</span><span class="va">year</span>, values_from <span class="op">=</span> <span class="va">n</span>, values_fill <span class="op">=</span> <span class="fl">0</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/t.html">t</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div id="tbl-l20220930183531z">
<table class="table table-sm table-striped">
<caption>Table&nbsp;9: Number of articles in the entire UK corpus, by year and source.</caption>
<colgroup>
<col style="width: 7%">
<col style="width: 14%">
<col style="width: 11%">
<col style="width: 11%">
<col style="width: 16%">
<col style="width: 9%">
<col style="width: 12%">
<col style="width: 7%">
<col style="width: 4%">
<col style="width: 6%">
</colgroup>
<tbody>
<tr class="odd">
<td style="text-align: left;">source</td>
<td style="text-align: left;">Daily Express</td>
<td style="text-align: left;">Daily Mail</td>
<td style="text-align: left;">Daily Star</td>
<td style="text-align: left;">Daily Telegraph</td>
<td style="text-align: left;">Guardian</td>
<td style="text-align: left;">Independent</td>
<td style="text-align: left;">Mirror</td>
<td style="text-align: left;">Sun</td>
<td style="text-align: left;">Times</td>
</tr>
<tr class="even">
<td style="text-align: left;">2006</td>
<td style="text-align: left;">27</td>
<td style="text-align: left;">266</td>
<td style="text-align: left;">34</td>
<td style="text-align: left;">125</td>
<td style="text-align: left;">210</td>
<td style="text-align: left;">176</td>
<td style="text-align: left;">147</td>
<td style="text-align: left;">97</td>
<td style="text-align: left;">262</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2007</td>
<td style="text-align: left;">28</td>
<td style="text-align: left;">350</td>
<td style="text-align: left;">139</td>
<td style="text-align: left;">180</td>
<td style="text-align: left;">221</td>
<td style="text-align: left;">93</td>
<td style="text-align: left;">156</td>
<td style="text-align: left;">102</td>
<td style="text-align: left;">260</td>
</tr>
<tr class="even">
<td style="text-align: left;">2008</td>
<td style="text-align: left;">45</td>
<td style="text-align: left;">311</td>
<td style="text-align: left;">47</td>
<td style="text-align: left;">168</td>
<td style="text-align: left;">191</td>
<td style="text-align: left;">87</td>
<td style="text-align: left;">202</td>
<td style="text-align: left;">154</td>
<td style="text-align: left;">225</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2009</td>
<td style="text-align: left;">188</td>
<td style="text-align: left;">145</td>
<td style="text-align: left;">40</td>
<td style="text-align: left;">91</td>
<td style="text-align: left;">141</td>
<td style="text-align: left;">58</td>
<td style="text-align: left;">171</td>
<td style="text-align: left;">171</td>
<td style="text-align: left;">193</td>
</tr>
<tr class="even">
<td style="text-align: left;">2010</td>
<td style="text-align: left;">261</td>
<td style="text-align: left;">181</td>
<td style="text-align: left;">41</td>
<td style="text-align: left;">143</td>
<td style="text-align: left;">196</td>
<td style="text-align: left;">72</td>
<td style="text-align: left;">177</td>
<td style="text-align: left;">117</td>
<td style="text-align: left;">165</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2011</td>
<td style="text-align: left;">214</td>
<td style="text-align: left;">191</td>
<td style="text-align: left;">54</td>
<td style="text-align: left;">120</td>
<td style="text-align: left;">123</td>
<td style="text-align: left;">107</td>
<td style="text-align: left;">230</td>
<td style="text-align: left;">137</td>
<td style="text-align: left;">144</td>
</tr>
<tr class="even">
<td style="text-align: left;">2012</td>
<td style="text-align: left;">142</td>
<td style="text-align: left;">149</td>
<td style="text-align: left;">34</td>
<td style="text-align: left;">244</td>
<td style="text-align: left;">132</td>
<td style="text-align: left;">108</td>
<td style="text-align: left;">251</td>
<td style="text-align: left;">234</td>
<td style="text-align: left;">148</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2013</td>
<td style="text-align: left;">110</td>
<td style="text-align: left;">149</td>
<td style="text-align: left;">23</td>
<td style="text-align: left;">164</td>
<td style="text-align: left;">177</td>
<td style="text-align: left;">122</td>
<td style="text-align: left;">135</td>
<td style="text-align: left;">152</td>
<td style="text-align: left;">214</td>
</tr>
<tr class="even">
<td style="text-align: left;">2014</td>
<td style="text-align: left;">121</td>
<td style="text-align: left;">229</td>
<td style="text-align: left;">24</td>
<td style="text-align: left;">234</td>
<td style="text-align: left;">201</td>
<td style="text-align: left;">158</td>
<td style="text-align: left;">200</td>
<td style="text-align: left;">205</td>
<td style="text-align: left;">267</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2015</td>
<td style="text-align: left;">72</td>
<td style="text-align: left;">214</td>
<td style="text-align: left;">28</td>
<td style="text-align: left;">181</td>
<td style="text-align: left;">268</td>
<td style="text-align: left;">146</td>
<td style="text-align: left;">161</td>
<td style="text-align: left;">239</td>
<td style="text-align: left;">294</td>
</tr>
<tr class="even">
<td style="text-align: left;">2016</td>
<td style="text-align: left;">64</td>
<td style="text-align: left;">144</td>
<td style="text-align: left;">19</td>
<td style="text-align: left;">112</td>
<td style="text-align: left;">191</td>
<td style="text-align: left;">199</td>
<td style="text-align: left;">83</td>
<td style="text-align: left;">196</td>
<td style="text-align: left;">245</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>What years are they coming from?</p>
<div class="cell" data-hash="dataEDA_cache/html/tbl-l20220930183531_ff9a483198e58a0490fb2c8a9d7012c1">
<details><summary>Code</summary><div class="sourceCode" id="cb16"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">uk_all_of_interest</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">dataset</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html">count</a></span><span class="op">(</span><span class="va">year</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_wider.html">pivot_wider</a></span><span class="op">(</span>names_from<span class="op">=</span><span class="va">dataset</span>, values_from <span class="op">=</span> <span class="va">n</span>, values_fill <span class="op">=</span> <span class="fl">0</span>, id_cols<span class="op">=</span><span class="va">year</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">full_join</a></span><span class="op">(</span><span class="op">{</span><span class="va">latejul_uk_fullwc_clean</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">year</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html">count</a></span><span class="op">(</span><span class="va">year</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html">rename</a></span><span class="op">(</span>total_articles_in_corpus<span class="op">=</span><span class="va">n</span><span class="op">)</span><span class="op">}</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div id="tbl-l20220930183531">
<table class="table table-sm table-striped">
<caption>Table&nbsp;10: Number of articles in the entire UK corpus, by year and language feature.</caption>
<thead><tr class="header">
<th style="text-align: right;">year</th>
<th style="text-align: right;">cond</th>
<th style="text-align: right;">obes</th>
<th style="text-align: right;">pers</th>
<th style="text-align: right;">total_articles_in_corpus</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">2006</td>
<td style="text-align: right;">214</td>
<td style="text-align: right;">38</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1344</td>
</tr>
<tr class="even">
<td style="text-align: right;">2007</td>
<td style="text-align: right;">266</td>
<td style="text-align: right;">47</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1529</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2008</td>
<td style="text-align: right;">279</td>
<td style="text-align: right;">54</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">1430</td>
</tr>
<tr class="even">
<td style="text-align: right;">2009</td>
<td style="text-align: right;">201</td>
<td style="text-align: right;">33</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">1198</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2010</td>
<td style="text-align: right;">181</td>
<td style="text-align: right;">39</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">1353</td>
</tr>
<tr class="even">
<td style="text-align: right;">2011</td>
<td style="text-align: right;">240</td>
<td style="text-align: right;">54</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">1320</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2012</td>
<td style="text-align: right;">255</td>
<td style="text-align: right;">51</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">1442</td>
</tr>
<tr class="even">
<td style="text-align: right;">2013</td>
<td style="text-align: right;">176</td>
<td style="text-align: right;">27</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">1246</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2014</td>
<td style="text-align: right;">240</td>
<td style="text-align: right;">68</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">1639</td>
</tr>
<tr class="even">
<td style="text-align: right;">2015</td>
<td style="text-align: right;">261</td>
<td style="text-align: right;">72</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">1603</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2016</td>
<td style="text-align: right;">182</td>
<td style="text-align: right;">33</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">1253</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>Note that this is different to the Australian corpus:</p>
<div class="cell" data-hash="dataEDA_cache/html/tbl-l20220930183531f_f71308cd4cb23101b9ca33d07d4ddb84">
<details><summary>Code</summary><div class="sourceCode" id="cb17"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">all_aus</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">dataset</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>year <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">"20"</span>, <span class="fu"><a href="https://rdrr.io/r/base/substr.html">substr</a></span><span class="op">(</span><span class="va">article_id</span>,<span class="fl">3</span>, <span class="fl">4</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html">count</a></span><span class="op">(</span><span class="va">year</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_wider.html">pivot_wider</a></span><span class="op">(</span>names_from<span class="op">=</span><span class="va">dataset</span>, values_from <span class="op">=</span> <span class="va">n</span>, values_fill <span class="op">=</span> <span class="fl">0</span>, id_cols<span class="op">=</span><span class="va">year</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div id="tbl-l20220930183531f">
<table class="table table-sm table-striped">
<caption>Table&nbsp;11: Number of articles in all of the Australian data, by year and language feature.</caption>
<thead><tr class="header">
<th style="text-align: left;">year</th>
<th style="text-align: right;">cond</th>
<th style="text-align: right;">obes</th>
<th style="text-align: right;">pers</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">2008</td>
<td style="text-align: right;">158</td>
<td style="text-align: right;">25</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="even">
<td style="text-align: left;">2009</td>
<td style="text-align: right;">139</td>
<td style="text-align: right;">19</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2010</td>
<td style="text-align: right;">104</td>
<td style="text-align: right;">12</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="even">
<td style="text-align: left;">2011</td>
<td style="text-align: right;">112</td>
<td style="text-align: right;">12</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2012</td>
<td style="text-align: right;">120</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="even">
<td style="text-align: left;">2013</td>
<td style="text-align: right;">103</td>
<td style="text-align: right;">17</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2014</td>
<td style="text-align: right;">103</td>
<td style="text-align: right;">13</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="even">
<td style="text-align: left;">2015</td>
<td style="text-align: right;">100</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2016</td>
<td style="text-align: right;">120</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="even">
<td style="text-align: left;">2017</td>
<td style="text-align: right;">78</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">7</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2018</td>
<td style="text-align: right;">78</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="even">
<td style="text-align: left;">2019</td>
<td style="text-align: right;">49</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">12</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>So:</p>
<ul>
<li>There is no data from Australia for 2006-2007</li>
<li>Both countries have data from 2008-2016</li>
<li>There is no data from the UK for 2017-2019</li>
</ul>
<p>Also sanity-checking that the months in the UK corpus make sense (they do):</p>
<div class="cell" data-hash="dataEDA_cache/html/tbl-l20220930183905_0b4467de8ef693f32676bc8eb37f9a2d">
<details><summary>Code</summary><div class="sourceCode" id="cb18"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">uk_all_of_interest</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">dataset</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html">count</a></span><span class="op">(</span><span class="va">month</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_wider.html">pivot_wider</a></span><span class="op">(</span>names_from<span class="op">=</span><span class="va">dataset</span>, values_from <span class="op">=</span> <span class="va">n</span>, values_fill <span class="op">=</span> <span class="fl">0</span>, id_cols<span class="op">=</span><span class="va">month</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div id="tbl-l20220930183905">
<table class="table table-sm table-striped">
<caption>Table&nbsp;12: Number of articles per month in the UK corpus.</caption>
<thead><tr class="header">
<th style="text-align: left;">month</th>
<th style="text-align: right;">cond</th>
<th style="text-align: right;">obes</th>
<th style="text-align: right;">pers</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">April</td>
<td style="text-align: right;">187</td>
<td style="text-align: right;">39</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="even">
<td style="text-align: left;">August</td>
<td style="text-align: right;">230</td>
<td style="text-align: right;">41</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="odd">
<td style="text-align: left;">December</td>
<td style="text-align: right;">206</td>
<td style="text-align: right;">51</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="even">
<td style="text-align: left;">February</td>
<td style="text-align: right;">205</td>
<td style="text-align: right;">53</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="odd">
<td style="text-align: left;">January</td>
<td style="text-align: right;">214</td>
<td style="text-align: right;">50</td>
<td style="text-align: right;">8</td>
</tr>
<tr class="even">
<td style="text-align: left;">July</td>
<td style="text-align: right;">216</td>
<td style="text-align: right;">64</td>
<td style="text-align: right;">7</td>
</tr>
<tr class="odd">
<td style="text-align: left;">June</td>
<td style="text-align: right;">159</td>
<td style="text-align: right;">25</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">March</td>
<td style="text-align: right;">199</td>
<td style="text-align: right;">34</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="odd">
<td style="text-align: left;">May</td>
<td style="text-align: right;">216</td>
<td style="text-align: right;">40</td>
<td style="text-align: right;">7</td>
</tr>
<tr class="even">
<td style="text-align: left;">November</td>
<td style="text-align: right;">183</td>
<td style="text-align: right;">28</td>
<td style="text-align: right;">9</td>
</tr>
<tr class="odd">
<td style="text-align: left;">October</td>
<td style="text-align: right;">240</td>
<td style="text-align: right;">51</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="even">
<td style="text-align: left;">September</td>
<td style="text-align: right;">240</td>
<td style="text-align: right;">40</td>
<td style="text-align: right;">2</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="cell" data-hash="dataEDA_cache/html/tbl-l20220930183905b_3fb14eb0e0518210de2e31b8fc27c426">
<details><summary>Code</summary><div class="sourceCode" id="cb19"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">latejul_uk_fullwc_clean</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html">count</a></span><span class="op">(</span><span class="va">month</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div id="tbl-l20220930183905b">
<table class="table table-sm table-striped">
<caption>Table&nbsp;13: Number of articles per month in the late July Australian corpus.</caption>
<thead><tr class="header">
<th style="text-align: left;">month</th>
<th style="text-align: right;">n</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">April</td>
<td style="text-align: right;">1192</td>
</tr>
<tr class="even">
<td style="text-align: left;">August</td>
<td style="text-align: right;">1320</td>
</tr>
<tr class="odd">
<td style="text-align: left;">December</td>
<td style="text-align: right;">1155</td>
</tr>
<tr class="even">
<td style="text-align: left;">February</td>
<td style="text-align: right;">1246</td>
</tr>
<tr class="odd">
<td style="text-align: left;">January</td>
<td style="text-align: right;">1501</td>
</tr>
<tr class="even">
<td style="text-align: left;">July</td>
<td style="text-align: right;">1271</td>
</tr>
<tr class="odd">
<td style="text-align: left;">June</td>
<td style="text-align: right;">1125</td>
</tr>
<tr class="even">
<td style="text-align: left;">March</td>
<td style="text-align: right;">1315</td>
</tr>
<tr class="odd">
<td style="text-align: left;">May</td>
<td style="text-align: right;">1325</td>
</tr>
<tr class="even">
<td style="text-align: left;">November</td>
<td style="text-align: right;">1144</td>
</tr>
<tr class="odd">
<td style="text-align: left;">October</td>
<td style="text-align: right;">1454</td>
</tr>
<tr class="even">
<td style="text-align: left;">September</td>
<td style="text-align: right;">1309</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>And the iterative text IDs:</p>
<div class="cell" data-hash="dataEDA_cache/html/tbl-l20220930183954_61e6da989d7ad9c7ffbee48090046b10">
<details><summary>Code</summary><div class="sourceCode" id="cb20"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">uk_all_of_interest</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">dataset</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html">count</a></span><span class="op">(</span><span class="va">index</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_wider.html">pivot_wider</a></span><span class="op">(</span>names_from<span class="op">=</span><span class="va">dataset</span>, values_from <span class="op">=</span> <span class="va">n</span>, values_fill <span class="op">=</span> <span class="fl">0</span>, id_cols<span class="op">=</span><span class="va">index</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">full_join</a></span><span class="op">(</span><span class="op">{</span><span class="va">latejul_uk_fullwc_clean</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">index</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html">count</a></span><span class="op">(</span><span class="va">index</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html">rename</a></span><span class="op">(</span>total_articles_in_corpus<span class="op">=</span><span class="va">n</span><span class="op">)</span><span class="op">}</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span><span class="op">(</span><span class="va">index</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div id="tbl-l20220930183954">
<table class="table table-sm table-striped">
<caption>Table&nbsp;14: Number of articles with each of the ‘iterative’ text ids in the UK corpus. As expected, most articles don’t have a text id, as this is used to showcase more than one article per day per source being harvested.</caption>
<thead><tr class="header">
<th style="text-align: left;">index</th>
<th style="text-align: right;">cond</th>
<th style="text-align: right;">obes</th>
<th style="text-align: right;">pers</th>
<th style="text-align: right;">total_articles_in_corpus</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">a</td>
<td style="text-align: right;">592</td>
<td style="text-align: right;">103</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">3405</td>
</tr>
<tr class="even">
<td style="text-align: left;">b</td>
<td style="text-align: right;">566</td>
<td style="text-align: right;">121</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">3398</td>
</tr>
<tr class="odd">
<td style="text-align: left;">c</td>
<td style="text-align: right;">168</td>
<td style="text-align: right;">42</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">1100</td>
</tr>
<tr class="even">
<td style="text-align: left;">d</td>
<td style="text-align: right;">67</td>
<td style="text-align: right;">19</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">417</td>
</tr>
<tr class="odd">
<td style="text-align: left;">e</td>
<td style="text-align: right;">27</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">146</td>
</tr>
<tr class="even">
<td style="text-align: left;">f</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">77</td>
</tr>
<tr class="odd">
<td style="text-align: left;">g</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">33</td>
</tr>
<tr class="even">
<td style="text-align: left;">h</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">24</td>
</tr>
<tr class="odd">
<td style="text-align: left;">i</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">13</td>
</tr>
<tr class="even">
<td style="text-align: left;">j</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">9</td>
</tr>
<tr class="odd">
<td style="text-align: left;">k</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="even">
<td style="text-align: left;">l</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="odd">
<td style="text-align: left;">m</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">n</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">o</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">p</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">q</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">r</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">s</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">t</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">u</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">v</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">w</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">x</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">z</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">NA</td>
<td style="text-align: right;">1043</td>
<td style="text-align: right;">212</td>
<td style="text-align: right;">22</td>
<td style="text-align: right;">6717</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>For some reason, there are no “y”s in the indexing, but there are zs… Somewhat suspicious, but would probably affect 1 article tops.</p>
<p>Let’s create some clean files we can later use for analysis.</p>
<p>We can join the two metadata files as there are no overlaps between Aus and UK shortcodes:</p>
<div class="cell" data-hash="dataEDA_cache/html/check_7c5ef8101b3e5af5b685dc1943988662">
<details><summary>Code</summary><div class="sourceCode" id="cb21"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># we can join the two metadata files as there are no overlaps between Aus and UK shortcodes etc</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="va">latejul_uk_fullwc_clean</span><span class="op">$</span><span class="va">article_id</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="va">aus_metadata</span><span class="op">$</span><span class="va">article_id</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>
FALSE 
15357 </code></pre>
</div>
<details><summary>Code</summary><div class="sourceCode" id="cb23"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="va">aus_metadata</span><span class="op">$</span><span class="va">article_id</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="va">latejul_uk_fullwc_clean</span><span class="op">$</span><span class="va">article_id</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>
FALSE 
 5378 </code></pre>
</div>
<details><summary>Code</summary><div class="sourceCode" id="cb25"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="va">latejul_uk_fullwc_clean</span><span class="op">$</span><span class="va">source_code</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="va">aus_metadata</span><span class="op">$</span><span class="va">source_code</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>
FALSE 
15357 </code></pre>
</div>
<details><summary>Code</summary><div class="sourceCode" id="cb27"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="va">aus_metadata</span><span class="op">$</span><span class="va">source_code</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="va">latejul_uk_fullwc_clean</span><span class="op">$</span><span class="va">source_code</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>
FALSE 
 5378 </code></pre>
</div>
</div>
<div class="cell" data-hash="dataEDA_cache/html/exportClean_53b1757f3d1526ad548436b634fe68d9">
<details><summary>Code</summary><div class="sourceCode" id="cb29"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">full_metadata</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind.html">bind_rows</a></span><span class="op">(</span><span class="op">{</span></span>
<span>  <span class="va">latejul_uk_fullwc_clean</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>corpus <span class="op">=</span> <span class="st">"UK"</span><span class="op">)</span></span>
<span><span class="op">}</span>, </span>
<span><span class="op">{</span></span>
<span>  <span class="va">aus_metadata</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>corpus <span class="op">=</span> <span class="st">"AUS"</span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://readr.tidyverse.org/reference/write_delim.html">write_csv</a></span><span class="op">(</span><span class="va">latejul_all_au</span>, </span>
<span>          <span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="st">"200_data_clean/"</span>, <span class="st">"australian_corpus_of_interest.csv"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://readr.tidyverse.org/reference/write_delim.html">write_csv</a></span><span class="op">(</span><span class="op">{</span><span class="va">latejul_all_uk</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">all_aus</span><span class="op">)</span><span class="op">)</span><span class="op">}</span>, </span>
<span>          <span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="st">"200_data_clean/"</span>, <span class="st">"uk_corpus_of_interest.csv"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://readr.tidyverse.org/reference/write_delim.html">write_csv</a></span><span class="op">(</span><span class="va">full_metadata</span>, </span>
<span>          <span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="st">"200_data_clean/"</span>, <span class="st">"full_metadata.csv"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">australian</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">left_join</a></span><span class="op">(</span><span class="op">{</span><span class="va">latejul_all_au</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">no_words_in_text</span><span class="op">)</span><span class="op">}</span>, </span>
<span>                        <span class="va">full_metadata</span>, by <span class="op">=</span> <span class="st">"article_id"</span><span class="op">)</span></span>
<span><span class="va">uk</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">left_join</a></span><span class="op">(</span><span class="op">{</span><span class="va">latejul_all_uk</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">no_words_in_text</span><span class="op">)</span><span class="op">}</span>, </span>
<span>                <span class="va">full_metadata</span>, by <span class="op">=</span> <span class="st">"article_id"</span><span class="op">)</span></span>
<span><span class="va">both_datasets</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html">rbind</a></span><span class="op">(</span><span class="va">australian</span>, <span class="va">uk</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://readr.tidyverse.org/reference/write_delim.html">write_csv</a></span><span class="op">(</span><span class="va">both_datasets</span>, </span>
<span>          <span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="st">"200_data_clean/"</span>, <span class="st">"both_datasets.csv"</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<hr>
<p>Monika wanted some summary statistics of the datasets, separated by broadsheets and tabloids:</p>
<ul>
<li>Raw frequency</li>
<li>Normalised frequency (to total number of words in corpus)</li>
<li>Range (document frequency)</li>
</ul>
<p>This is provided for the:</p>
<ul>
<li>UK corpus</li>
<li>Australian corpus, late July scrape</li>
</ul>
<ol type="1">
<li>What is the raw frequency and document frequency of use of the language types in the two corpora?</li>
</ol>
<div class="cell" data-hash="dataEDA_cache/html/tbl-l20220930184147_34c692598e854148267f7b3c6933892e">
<details><summary>Code</summary><div class="sourceCode" id="cb30"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">freq_calc</span> <span class="op">&lt;-</span> <span class="va">both_datasets</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">dataset</span>, <span class="va">corpus</span>, <span class="va">source_type</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span><span class="op">(</span>total_instances <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">no_hits_in_text</span><span class="op">)</span>,</span>
<span>            total_articles_with_one_or_more_instance <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html">n</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> </span>
<span><span class="va">freq_calc</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div id="tbl-l20220930184147">
<table class="table table-sm table-striped">
<caption>Table&nbsp;15: Feature identified (dataset), total number of instances and articles with at least one instance in the Australian and UK corpus, categorised by source type.</caption>
<colgroup>
<col style="width: 9%">
<col style="width: 8%">
<col style="width: 14%">
<col style="width: 19%">
<col style="width: 48%">
</colgroup>
<thead><tr class="header">
<th style="text-align: left;">dataset</th>
<th style="text-align: left;">corpus</th>
<th style="text-align: left;">source_type</th>
<th style="text-align: right;">total_instances</th>
<th style="text-align: right;">total_articles_with_one_or_more_instance</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">cond</td>
<td style="text-align: left;">AUS</td>
<td style="text-align: left;">broadsheet</td>
<td style="text-align: right;">1360</td>
<td style="text-align: right;">666</td>
</tr>
<tr class="even">
<td style="text-align: left;">cond</td>
<td style="text-align: left;">AUS</td>
<td style="text-align: left;">tabloid</td>
<td style="text-align: right;">1718</td>
<td style="text-align: right;">1023</td>
</tr>
<tr class="odd">
<td style="text-align: left;">cond</td>
<td style="text-align: left;">UK</td>
<td style="text-align: left;">broadsheet</td>
<td style="text-align: right;">2859</td>
<td style="text-align: right;">1598</td>
</tr>
<tr class="even">
<td style="text-align: left;">cond</td>
<td style="text-align: left;">UK</td>
<td style="text-align: left;">tabloid</td>
<td style="text-align: right;">2892</td>
<td style="text-align: right;">1822</td>
</tr>
<tr class="odd">
<td style="text-align: left;">obes</td>
<td style="text-align: left;">AUS</td>
<td style="text-align: left;">broadsheet</td>
<td style="text-align: right;">77</td>
<td style="text-align: right;">67</td>
</tr>
<tr class="even">
<td style="text-align: left;">obes</td>
<td style="text-align: left;">AUS</td>
<td style="text-align: left;">tabloid</td>
<td style="text-align: right;">89</td>
<td style="text-align: right;">80</td>
</tr>
<tr class="odd">
<td style="text-align: left;">obes</td>
<td style="text-align: left;">UK</td>
<td style="text-align: left;">broadsheet</td>
<td style="text-align: right;">315</td>
<td style="text-align: right;">252</td>
</tr>
<tr class="even">
<td style="text-align: left;">obes</td>
<td style="text-align: left;">UK</td>
<td style="text-align: left;">tabloid</td>
<td style="text-align: right;">317</td>
<td style="text-align: right;">264</td>
</tr>
<tr class="odd">
<td style="text-align: left;">pers</td>
<td style="text-align: left;">AUS</td>
<td style="text-align: left;">broadsheet</td>
<td style="text-align: right;">68</td>
<td style="text-align: right;">43</td>
</tr>
<tr class="even">
<td style="text-align: left;">pers</td>
<td style="text-align: left;">AUS</td>
<td style="text-align: left;">tabloid</td>
<td style="text-align: right;">29</td>
<td style="text-align: right;">26</td>
</tr>
<tr class="odd">
<td style="text-align: left;">pers</td>
<td style="text-align: left;">UK</td>
<td style="text-align: left;">broadsheet</td>
<td style="text-align: right;">45</td>
<td style="text-align: right;">41</td>
</tr>
<tr class="even">
<td style="text-align: left;">pers</td>
<td style="text-align: left;">UK</td>
<td style="text-align: left;">tabloid</td>
<td style="text-align: right;">30</td>
<td style="text-align: right;">29</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>Note that sources were classified as follows across the two corpora:</p>
<div class="cell" data-hash="dataEDA_cache/html/tbl-l20220930184341_21a14df2736ba377cdbe116d186d4307">
<details><summary>Code</summary><div class="sourceCode" id="cb31"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">both_datasets</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">source</span>, <span class="va">corpus</span>, <span class="va">source_type</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/distinct.html">distinct</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div id="tbl-l20220930184341">
<table class="table table-sm table-striped">
<caption>Table&nbsp;16: Classification of sources in the UK and Australian corpora.</caption>
<thead><tr class="header">
<th style="text-align: left;">source</th>
<th style="text-align: left;">corpus</th>
<th style="text-align: left;">source_type</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Advertiser</td>
<td style="text-align: left;">AUS</td>
<td style="text-align: left;">tabloid</td>
</tr>
<tr class="even">
<td style="text-align: left;">Age</td>
<td style="text-align: left;">AUS</td>
<td style="text-align: left;">broadsheet</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Australian</td>
<td style="text-align: left;">AUS</td>
<td style="text-align: left;">broadsheet</td>
</tr>
<tr class="even">
<td style="text-align: left;">BrisTimes</td>
<td style="text-align: left;">AUS</td>
<td style="text-align: left;">broadsheet</td>
</tr>
<tr class="odd">
<td style="text-align: left;">CourierMail</td>
<td style="text-align: left;">AUS</td>
<td style="text-align: left;">tabloid</td>
</tr>
<tr class="even">
<td style="text-align: left;">CanTimes</td>
<td style="text-align: left;">AUS</td>
<td style="text-align: left;">broadsheet</td>
</tr>
<tr class="odd">
<td style="text-align: left;">HobMercury</td>
<td style="text-align: left;">AUS</td>
<td style="text-align: left;">tabloid</td>
</tr>
<tr class="even">
<td style="text-align: left;">HeraldSun</td>
<td style="text-align: left;">AUS</td>
<td style="text-align: left;">tabloid</td>
</tr>
<tr class="odd">
<td style="text-align: left;">NorthernT</td>
<td style="text-align: left;">AUS</td>
<td style="text-align: left;">tabloid</td>
</tr>
<tr class="even">
<td style="text-align: left;">SydHerald</td>
<td style="text-align: left;">AUS</td>
<td style="text-align: left;">broadsheet</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Telegraph</td>
<td style="text-align: left;">AUS</td>
<td style="text-align: left;">tabloid</td>
</tr>
<tr class="even">
<td style="text-align: left;">WestAus</td>
<td style="text-align: left;">AUS</td>
<td style="text-align: left;">tabloid</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Daily Express</td>
<td style="text-align: left;">UK</td>
<td style="text-align: left;">tabloid</td>
</tr>
<tr class="even">
<td style="text-align: left;">Daily Mail</td>
<td style="text-align: left;">UK</td>
<td style="text-align: left;">tabloid</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Daily Star</td>
<td style="text-align: left;">UK</td>
<td style="text-align: left;">tabloid</td>
</tr>
<tr class="even">
<td style="text-align: left;">Daily Telegraph</td>
<td style="text-align: left;">UK</td>
<td style="text-align: left;">broadsheet</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Guardian</td>
<td style="text-align: left;">UK</td>
<td style="text-align: left;">broadsheet</td>
</tr>
<tr class="even">
<td style="text-align: left;">Independent</td>
<td style="text-align: left;">UK</td>
<td style="text-align: left;">broadsheet</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Mirror</td>
<td style="text-align: left;">UK</td>
<td style="text-align: left;">tabloid</td>
</tr>
<tr class="even">
<td style="text-align: left;">Sun</td>
<td style="text-align: left;">UK</td>
<td style="text-align: left;">tabloid</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Times</td>
<td style="text-align: left;">UK</td>
<td style="text-align: left;">broadsheet</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>We should also provide the export information only for the years where both corpora have data, i.e.&nbsp;2008-2016.</p>
<div class="cell" data-hash="dataEDA_cache/html/tbl-l20220930184147b_4185473e1f1a464d8f8f15aacf671827">
<details><summary>Code</summary><div class="sourceCode" id="cb32"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">freq_calc_bothyears</span> <span class="op">&lt;-</span> <span class="va">both_datasets</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">year</span> <span class="op">&gt;=</span> <span class="fl">2008</span> <span class="op">&amp;</span> <span class="va">year</span> <span class="op">&lt;=</span><span class="fl">2016</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">dataset</span>, <span class="va">corpus</span>, <span class="va">source_type</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span><span class="op">(</span>total_instances <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">no_hits_in_text</span><span class="op">)</span>,</span>
<span>            total_articles_with_one_or_more_instance <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html">n</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> </span>
<span></span>
<span><span class="va">freq_calc_bothyears</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div id="tbl-l20220930184147b">
<table class="table table-sm table-striped">
<caption>Table&nbsp;17: Feature identified (dataset), total number of instances and articles with at least one instance in the Australian and UK corpus, categorised by source type, for articles from 2008-2016, when both corpora have data. This is the dataset that was used for comparison in the analysis section.</caption>
<colgroup>
<col style="width: 9%">
<col style="width: 8%">
<col style="width: 14%">
<col style="width: 19%">
<col style="width: 48%">
</colgroup>
<thead><tr class="header">
<th style="text-align: left;">dataset</th>
<th style="text-align: left;">corpus</th>
<th style="text-align: left;">source_type</th>
<th style="text-align: right;">total_instances</th>
<th style="text-align: right;">total_articles_with_one_or_more_instance</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">cond</td>
<td style="text-align: left;">AUS</td>
<td style="text-align: left;">broadsheet</td>
<td style="text-align: right;">1143</td>
<td style="text-align: right;">541</td>
</tr>
<tr class="even">
<td style="text-align: left;">cond</td>
<td style="text-align: left;">AUS</td>
<td style="text-align: left;">tabloid</td>
<td style="text-align: right;">1428</td>
<td style="text-align: right;">858</td>
</tr>
<tr class="odd">
<td style="text-align: left;">cond</td>
<td style="text-align: left;">UK</td>
<td style="text-align: left;">broadsheet</td>
<td style="text-align: right;">2320</td>
<td style="text-align: right;">1279</td>
</tr>
<tr class="even">
<td style="text-align: left;">cond</td>
<td style="text-align: left;">UK</td>
<td style="text-align: left;">tabloid</td>
<td style="text-align: right;">2399</td>
<td style="text-align: right;">1519</td>
</tr>
<tr class="odd">
<td style="text-align: left;">obes</td>
<td style="text-align: left;">AUS</td>
<td style="text-align: left;">broadsheet</td>
<td style="text-align: right;">72</td>
<td style="text-align: right;">62</td>
</tr>
<tr class="even">
<td style="text-align: left;">obes</td>
<td style="text-align: left;">AUS</td>
<td style="text-align: left;">tabloid</td>
<td style="text-align: right;">78</td>
<td style="text-align: right;">69</td>
</tr>
<tr class="odd">
<td style="text-align: left;">obes</td>
<td style="text-align: left;">UK</td>
<td style="text-align: left;">broadsheet</td>
<td style="text-align: right;">263</td>
<td style="text-align: right;">208</td>
</tr>
<tr class="even">
<td style="text-align: left;">obes</td>
<td style="text-align: left;">UK</td>
<td style="text-align: left;">tabloid</td>
<td style="text-align: right;">264</td>
<td style="text-align: right;">223</td>
</tr>
<tr class="odd">
<td style="text-align: left;">pers</td>
<td style="text-align: left;">AUS</td>
<td style="text-align: left;">broadsheet</td>
<td style="text-align: right;">30</td>
<td style="text-align: right;">28</td>
</tr>
<tr class="even">
<td style="text-align: left;">pers</td>
<td style="text-align: left;">AUS</td>
<td style="text-align: left;">tabloid</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">13</td>
</tr>
<tr class="odd">
<td style="text-align: left;">pers</td>
<td style="text-align: left;">UK</td>
<td style="text-align: left;">broadsheet</td>
<td style="text-align: right;">41</td>
<td style="text-align: right;">38</td>
</tr>
<tr class="even">
<td style="text-align: left;">pers</td>
<td style="text-align: left;">UK</td>
<td style="text-align: left;">tabloid</td>
<td style="text-align: right;">30</td>
<td style="text-align: right;">29</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<ol start="2" type="1">
<li>What is the total word count of the UK and Australian corpus, grouped by broadsheets and tabloids?</li>
</ol>
<div class="cell" data-hash="dataEDA_cache/html/unnamed-chunk-15_a0378895015548c16a65fa33c6109c96">
<details><summary>Code</summary><div class="sourceCode" id="cb33"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">get_total_wc</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">metadata_df</span>, <span class="va">crp</span>, <span class="va">st</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="va">metadata_df</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">corpus</span> <span class="op">==</span> <span class="va">crp</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">source_type</span> <span class="op">==</span> <span class="va">st</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">no_words_in_text</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/distinct.html">distinct</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html">pull</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">get_total_wc_bothyears</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">metadata_df</span>, <span class="va">crp</span>, <span class="va">st</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="va">metadata_df</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">year</span> <span class="op">&gt;=</span> <span class="fl">2008</span> <span class="op">&amp;</span> <span class="va">year</span> <span class="op">&lt;=</span><span class="fl">2016</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">corpus</span> <span class="op">==</span> <span class="va">crp</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">source_type</span> <span class="op">==</span> <span class="va">st</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">no_words_in_text</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/distinct.html">distinct</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html">pull</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span>  </span>
<span>  </span>
<span></span>
<span><span class="va">total_words_aus_broad</span> <span class="op">&lt;-</span> <span class="fu">get_total_wc</span><span class="op">(</span><span class="va">full_metadata</span>,</span>
<span>                                      crp <span class="op">=</span> <span class="st">"AUS"</span>,</span>
<span>                                      st <span class="op">=</span> <span class="st">"broadsheet"</span><span class="op">)</span></span>
<span><span class="va">total_words_aus_tab</span> <span class="op">&lt;-</span> <span class="fu">get_total_wc</span><span class="op">(</span><span class="va">full_metadata</span>,</span>
<span>                                    crp <span class="op">=</span> <span class="st">"AUS"</span>,</span>
<span>                                    st <span class="op">=</span> <span class="st">"tabloid"</span><span class="op">)</span></span>
<span><span class="va">total_words_uk_broad</span> <span class="op">&lt;-</span> <span class="fu">get_total_wc</span><span class="op">(</span><span class="va">full_metadata</span>,</span>
<span>                                      crp <span class="op">=</span> <span class="st">"UK"</span>,</span>
<span>                                      st <span class="op">=</span> <span class="st">"broadsheet"</span><span class="op">)</span></span>
<span><span class="va">total_words_uk_tab</span> <span class="op">&lt;-</span> <span class="fu">get_total_wc</span><span class="op">(</span><span class="va">full_metadata</span>,</span>
<span>                                    crp <span class="op">=</span> <span class="st">"UK"</span>,</span>
<span>                                    st <span class="op">=</span> <span class="st">"tabloid"</span><span class="op">)</span></span>
<span><span class="va">total_words_aus_broad_bothyears</span> <span class="op">&lt;-</span> <span class="fu">get_total_wc_bothyears</span><span class="op">(</span><span class="va">full_metadata</span>,</span>
<span>                                      crp <span class="op">=</span> <span class="st">"AUS"</span>,</span>
<span>                                      st <span class="op">=</span> <span class="st">"broadsheet"</span><span class="op">)</span></span>
<span><span class="va">total_words_aus_tab_bothyears</span> <span class="op">&lt;-</span> <span class="fu">get_total_wc_bothyears</span><span class="op">(</span><span class="va">full_metadata</span>,</span>
<span>                                    crp <span class="op">=</span> <span class="st">"AUS"</span>,</span>
<span>                                    st <span class="op">=</span> <span class="st">"tabloid"</span><span class="op">)</span></span>
<span><span class="va">total_words_uk_broad_bothyears</span> <span class="op">&lt;-</span> <span class="fu">get_total_wc_bothyears</span><span class="op">(</span><span class="va">full_metadata</span>,</span>
<span>                                      crp <span class="op">=</span> <span class="st">"UK"</span>,</span>
<span>                                      st <span class="op">=</span> <span class="st">"broadsheet"</span><span class="op">)</span></span>
<span><span class="va">total_words_uk_tab_bothyears</span> <span class="op">&lt;-</span> <span class="fu">get_total_wc_bothyears</span><span class="op">(</span><span class="va">full_metadata</span>,</span>
<span>                                    crp <span class="op">=</span> <span class="st">"UK"</span>,</span>
<span>                                    st <span class="op">=</span> <span class="st">"tabloid"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>The total word counts are:</p>
<ul>
<li>The British tabloids corpus contains 4377933 words in total</li>
<li>The British broadsheets corpus contains 5427551 words in total</li>
<li>The Australian AOC subset tabloids corpus contains 1758364 words</li>
<li>The Australian AOC subset broadsheet corpus contains 1860166 words</li>
</ul>
<p>This should match the information provided via the manual CQP web export below.</p>
<ul>
<li>The British tabloids corpus contains 4,377,933 words in total (including all texts, not just those that have an instance of the relevant language)</li>
<li>The British broadsheets corpus contains 5,427,551 words in total (including all texts, not just those that have an instance of the relevant language)</li>
<li>The Australian AOC subset tabloids corpus contains 1,758,364 words (all included)</li>
<li>The Australian AOC subset broadsheet corpus contains 1,860,166 words (all included)</li>
</ul>
<p>The word counts for the years 2008 - 2016, when we have data for both corpora, are:</p>
<ul>
<li>The British tabloids corpus contains 3596164 words in total</li>
<li>The British broadsheets corpus contains 4333157 words in total</li>
<li>The Australian AOC subset tabloids corpus contains 1418041 words</li>
<li>The Australian AOC subset broadsheet corpus contains 1446391 words</li>
</ul></section><section id="normalised-frequency" class="level2"><h2 data-anchor-id="normalised-frequency">Normalised frequency</h2>
<p>What is the normalised frequency of each of the language types?</p>
<div class="cell" data-hash="dataEDA_cache/html/tbl-l20220930185332_238e2e3436eca5028938e6e36e7f053d">
<details><summary>Code</summary><div class="sourceCode" id="cb34"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">get_norm_freq</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">df</span>, <span class="va">wc_aus_broad</span>, <span class="va">wc_aus_tab</span>, <span class="va">wc_uk_broad</span>, <span class="va">wc_uk_tab</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="va">df</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">dataset</span>, <span class="va">corpus</span>, <span class="va">source_type</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span><span class="op">(</span>total_instances <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">no_hits_in_text</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="co"># create tmp column b/c case_when doesn't work with multiple conditions</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>tmp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="va">corpus</span>, <span class="va">source_type</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">ungroup</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>total_words_in_corpus <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html">case_when</a></span><span class="op">(</span></span>
<span>    <span class="va">tmp</span> <span class="op">==</span> <span class="st">"AUSbroadsheet"</span> <span class="op">~</span> <span class="va">wc_aus_broad</span>,</span>
<span>    <span class="va">tmp</span> <span class="op">==</span> <span class="st">"AUStabloid"</span> <span class="op">~</span> <span class="va">wc_aus_tab</span>,</span>
<span>    <span class="va">tmp</span> <span class="op">==</span> <span class="st">"UKbroadsheet"</span> <span class="op">~</span> <span class="va">wc_uk_broad</span>,</span>
<span>    <span class="va">tmp</span> <span class="op">==</span> <span class="st">"UKtabloid"</span> <span class="op">~</span> <span class="va">wc_uk_tab</span></span>
<span>  <span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">tmp</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>normalised_corpus_per_million <span class="op">=</span> <span class="fl">10</span><span class="op">^</span><span class="fl">6</span><span class="op">*</span><span class="va">total_instances</span><span class="op">/</span><span class="va">total_words_in_corpus</span><span class="op">)</span> </span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">freq_normalised</span> <span class="op">&lt;-</span> <span class="fu">get_norm_freq</span><span class="op">(</span><span class="va">both_datasets</span>,</span>
<span>                                 <span class="va">total_words_aus_broad</span>,</span>
<span>                                 <span class="va">total_words_aus_tab</span>,</span>
<span>                                 <span class="va">total_words_uk_broad</span>,</span>
<span>                                 <span class="va">total_words_uk_tab</span><span class="op">)</span></span>
<span>  </span>
<span><span class="va">freq_normalised_bothyears</span> <span class="op">&lt;-</span> <span class="va">both_datasets</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">year</span> <span class="op">&gt;=</span> <span class="fl">2008</span> <span class="op">&amp;</span> <span class="va">year</span> <span class="op">&lt;=</span><span class="fl">2016</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">get_norm_freq</span><span class="op">(</span></span>
<span>    <span class="va">total_words_aus_broad_bothyears</span>,</span>
<span>    <span class="va">total_words_aus_tab_bothyears</span>,</span>
<span>    <span class="va">total_words_uk_broad_bothyears</span>,</span>
<span>    <span class="va">total_words_uk_tab_bothyears</span><span class="op">)</span></span>
<span></span>
<span><span class="va">freq_normalised</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div id="tbl-l20220930185332">
<table class="table table-sm table-striped">
<caption>Table&nbsp;18: Normalised frequency, instances per million words as counted using CQP-web, across the entire UK and Australian corpora.</caption>
<colgroup>
<col style="width: 8%">
<col style="width: 7%">
<col style="width: 12%">
<col style="width: 16%">
<col style="width: 23%">
<col style="width: 31%">
</colgroup>
<thead><tr class="header">
<th style="text-align: left;">dataset</th>
<th style="text-align: left;">corpus</th>
<th style="text-align: left;">source_type</th>
<th style="text-align: right;">total_instances</th>
<th style="text-align: right;">total_words_in_corpus</th>
<th style="text-align: right;">normalised_corpus_per_million</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">cond</td>
<td style="text-align: left;">AUS</td>
<td style="text-align: left;">broadsheet</td>
<td style="text-align: right;">1360</td>
<td style="text-align: right;">1860166</td>
<td style="text-align: right;">731.117545</td>
</tr>
<tr class="even">
<td style="text-align: left;">cond</td>
<td style="text-align: left;">AUS</td>
<td style="text-align: left;">tabloid</td>
<td style="text-align: right;">1718</td>
<td style="text-align: right;">1758364</td>
<td style="text-align: right;">977.044571</td>
</tr>
<tr class="odd">
<td style="text-align: left;">cond</td>
<td style="text-align: left;">UK</td>
<td style="text-align: left;">broadsheet</td>
<td style="text-align: right;">2859</td>
<td style="text-align: right;">5427551</td>
<td style="text-align: right;">526.756911</td>
</tr>
<tr class="even">
<td style="text-align: left;">cond</td>
<td style="text-align: left;">UK</td>
<td style="text-align: left;">tabloid</td>
<td style="text-align: right;">2892</td>
<td style="text-align: right;">4377933</td>
<td style="text-align: right;">660.585715</td>
</tr>
<tr class="odd">
<td style="text-align: left;">obes</td>
<td style="text-align: left;">AUS</td>
<td style="text-align: left;">broadsheet</td>
<td style="text-align: right;">77</td>
<td style="text-align: right;">1860166</td>
<td style="text-align: right;">41.394155</td>
</tr>
<tr class="even">
<td style="text-align: left;">obes</td>
<td style="text-align: left;">AUS</td>
<td style="text-align: left;">tabloid</td>
<td style="text-align: right;">89</td>
<td style="text-align: right;">1758364</td>
<td style="text-align: right;">50.615231</td>
</tr>
<tr class="odd">
<td style="text-align: left;">obes</td>
<td style="text-align: left;">UK</td>
<td style="text-align: left;">broadsheet</td>
<td style="text-align: right;">315</td>
<td style="text-align: right;">5427551</td>
<td style="text-align: right;">58.037225</td>
</tr>
<tr class="even">
<td style="text-align: left;">obes</td>
<td style="text-align: left;">UK</td>
<td style="text-align: left;">tabloid</td>
<td style="text-align: right;">317</td>
<td style="text-align: right;">4377933</td>
<td style="text-align: right;">72.408600</td>
</tr>
<tr class="odd">
<td style="text-align: left;">pers</td>
<td style="text-align: left;">AUS</td>
<td style="text-align: left;">broadsheet</td>
<td style="text-align: right;">68</td>
<td style="text-align: right;">1860166</td>
<td style="text-align: right;">36.555877</td>
</tr>
<tr class="even">
<td style="text-align: left;">pers</td>
<td style="text-align: left;">AUS</td>
<td style="text-align: left;">tabloid</td>
<td style="text-align: right;">29</td>
<td style="text-align: right;">1758364</td>
<td style="text-align: right;">16.492603</td>
</tr>
<tr class="odd">
<td style="text-align: left;">pers</td>
<td style="text-align: left;">UK</td>
<td style="text-align: left;">broadsheet</td>
<td style="text-align: right;">45</td>
<td style="text-align: right;">5427551</td>
<td style="text-align: right;">8.291032</td>
</tr>
<tr class="even">
<td style="text-align: left;">pers</td>
<td style="text-align: left;">UK</td>
<td style="text-align: left;">tabloid</td>
<td style="text-align: right;">30</td>
<td style="text-align: right;">4377933</td>
<td style="text-align: right;">6.852549</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>What about the normalised frequency across the time period where we have data for both corpora?</p>
<div class="cell" data-hash="dataEDA_cache/html/tbl-l20220930185332b_d6f56f9e0d25da2043e6cf27b17e12a2">
<details><summary>Code</summary><div class="sourceCode" id="cb35"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">freq_normalised_bothyears</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div id="tbl-l20220930185332b">
<table class="table table-sm table-striped">
<caption>Table&nbsp;19: Normalised frequency, instances per million words as counted using CQP-web, across the UK and Australian corpora between 2008 and 2016, when we have data from both countries (i.e.&nbsp;the final corpus used for comparison).</caption>
<colgroup>
<col style="width: 8%">
<col style="width: 7%">
<col style="width: 12%">
<col style="width: 16%">
<col style="width: 23%">
<col style="width: 31%">
</colgroup>
<thead><tr class="header">
<th style="text-align: left;">dataset</th>
<th style="text-align: left;">corpus</th>
<th style="text-align: left;">source_type</th>
<th style="text-align: right;">total_instances</th>
<th style="text-align: right;">total_words_in_corpus</th>
<th style="text-align: right;">normalised_corpus_per_million</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">cond</td>
<td style="text-align: left;">AUS</td>
<td style="text-align: left;">broadsheet</td>
<td style="text-align: right;">1143</td>
<td style="text-align: right;">1446391</td>
<td style="text-align: right;">790.242749</td>
</tr>
<tr class="even">
<td style="text-align: left;">cond</td>
<td style="text-align: left;">AUS</td>
<td style="text-align: left;">tabloid</td>
<td style="text-align: right;">1428</td>
<td style="text-align: right;">1418041</td>
<td style="text-align: right;">1007.023069</td>
</tr>
<tr class="odd">
<td style="text-align: left;">cond</td>
<td style="text-align: left;">UK</td>
<td style="text-align: left;">broadsheet</td>
<td style="text-align: right;">2320</td>
<td style="text-align: right;">4333157</td>
<td style="text-align: right;">535.406402</td>
</tr>
<tr class="even">
<td style="text-align: left;">cond</td>
<td style="text-align: left;">UK</td>
<td style="text-align: left;">tabloid</td>
<td style="text-align: right;">2399</td>
<td style="text-align: right;">3596164</td>
<td style="text-align: right;">667.099721</td>
</tr>
<tr class="odd">
<td style="text-align: left;">obes</td>
<td style="text-align: left;">AUS</td>
<td style="text-align: left;">broadsheet</td>
<td style="text-align: right;">72</td>
<td style="text-align: right;">1446391</td>
<td style="text-align: right;">49.779071</td>
</tr>
<tr class="even">
<td style="text-align: left;">obes</td>
<td style="text-align: left;">AUS</td>
<td style="text-align: left;">tabloid</td>
<td style="text-align: right;">78</td>
<td style="text-align: right;">1418041</td>
<td style="text-align: right;">55.005462</td>
</tr>
<tr class="odd">
<td style="text-align: left;">obes</td>
<td style="text-align: left;">UK</td>
<td style="text-align: left;">broadsheet</td>
<td style="text-align: right;">263</td>
<td style="text-align: right;">4333157</td>
<td style="text-align: right;">60.694778</td>
</tr>
<tr class="even">
<td style="text-align: left;">obes</td>
<td style="text-align: left;">UK</td>
<td style="text-align: left;">tabloid</td>
<td style="text-align: right;">264</td>
<td style="text-align: right;">3596164</td>
<td style="text-align: right;">73.411557</td>
</tr>
<tr class="odd">
<td style="text-align: left;">pers</td>
<td style="text-align: left;">AUS</td>
<td style="text-align: left;">broadsheet</td>
<td style="text-align: right;">30</td>
<td style="text-align: right;">1446391</td>
<td style="text-align: right;">20.741280</td>
</tr>
<tr class="even">
<td style="text-align: left;">pers</td>
<td style="text-align: left;">AUS</td>
<td style="text-align: left;">tabloid</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">1418041</td>
<td style="text-align: right;">10.577973</td>
</tr>
<tr class="odd">
<td style="text-align: left;">pers</td>
<td style="text-align: left;">UK</td>
<td style="text-align: left;">broadsheet</td>
<td style="text-align: right;">41</td>
<td style="text-align: right;">4333157</td>
<td style="text-align: right;">9.461923</td>
</tr>
<tr class="even">
<td style="text-align: left;">pers</td>
<td style="text-align: left;">UK</td>
<td style="text-align: left;">tabloid</td>
<td style="text-align: right;">30</td>
<td style="text-align: right;">3596164</td>
<td style="text-align: right;">8.342222</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="cell" data-hash="dataEDA_cache/html/unnamed-chunk-18_8103be31d25655baddae5e98855d55a2">
<details><summary>Code</summary><div class="sourceCode" id="cb36"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">export_summary_stats</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">freq_calc1</span>, <span class="va">freq_norm</span>, <span class="va">outfile</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/cbind.html">rbind</a></span><span class="op">(</span></span>
<span>  <span class="op">{</span><span class="va">freq_calc1</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html">pivot_longer</a></span><span class="op">(</span>cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"total_instances"</span>, <span class="st">"total_articles_with_one_or_more_instance"</span><span class="op">)</span><span class="op">)</span><span class="op">}</span>,</span>
<span>  <span class="op">{</span><span class="va">freq_norm</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">total_instances</span>, <span class="op">-</span><span class="va">total_words_in_corpus</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html">pivot_longer</a></span><span class="op">(</span>cols <span class="op">=</span> <span class="st">"normalised_corpus_per_million"</span><span class="op">)</span><span class="op">}</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_wider.html">pivot_wider</a></span><span class="op">(</span>names_from <span class="op">=</span> <span class="va">corpus</span>, values_from <span class="op">=</span> <span class="va">value</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="co"># reorder in the order Monika has in her xlsx file</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>dataset <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">dataset</span>, levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"pers"</span>, <span class="st">"cond"</span>, <span class="st">"obes"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>         source_type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">source_type</span>, levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"tabloid"</span>, <span class="st">"broadsheet"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>         name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">name</span>,</span>
<span>                       levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"total_instances"</span>,</span>
<span>                                  <span class="st">"normalised_corpus_per_million"</span>,</span>
<span>                                  <span class="st">"total_articles_with_one_or_more_instance"</span><span class="op">)</span><span class="op">)</span></span>
<span>         <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span><span class="op">(</span><span class="va">dataset</span>, <span class="va">source_type</span>, <span class="va">name</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://readr.tidyverse.org/reference/write_delim.html">write_csv</a></span><span class="op">(</span>file <span class="op">=</span> <span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="st">"300_data_processed"</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="va">outfile</span>, <span class="st">".csv"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># export so Monika can copy-paste into csv file</span></span>
<span><span class="fu">export_summary_stats</span><span class="op">(</span>freq_calc1 <span class="op">=</span> <span class="va">freq_calc</span>,</span>
<span>                     freq_norm <span class="op">=</span> <span class="va">freq_normalised</span>,</span>
<span>                     outfile <span class="op">=</span> <span class="st">"all_data"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">export_summary_stats</span><span class="op">(</span>freq_calc1 <span class="op">=</span> <span class="va">freq_calc_bothyears</span>,</span>
<span>                     freq_norm <span class="op">=</span> <span class="va">freq_normalised_bothyears</span>,</span>
<span>                     outfile <span class="op">=</span> <span class="st">"overlapping_years"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># how many words in corpus?</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html">rbind</a></span><span class="op">(</span></span>
<span>  <span class="op">{</span><span class="va">freq_normalised_bothyears</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">corpus</span>, <span class="va">source_type</span>, <span class="va">total_words_in_corpus</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/distinct.html">distinct</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>period <span class="op">=</span> <span class="st">"2008-2016"</span><span class="op">)</span><span class="op">}</span>,</span>
<span>  <span class="op">{</span><span class="va">freq_normalised</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">corpus</span>, <span class="va">source_type</span>, <span class="va">total_words_in_corpus</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/distinct.html">distinct</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>period <span class="op">=</span> <span class="st">"alltime"</span><span class="op">)</span><span class="op">}</span></span>
<span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_wider.html">pivot_wider</a></span><span class="op">(</span>names_from <span class="op">=</span> <span class="va">period</span>, values_from <span class="op">=</span> <span class="va">total_words_in_corpus</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://readr.tidyverse.org/reference/write_delim.html">write_csv</a></span><span class="op">(</span>file <span class="op">=</span> <span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="st">"300_data_processed"</span>, <span class="st">"wordcounts_corpus.csv"</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>A small sanity check about the differences:</p>
<p>As discussed above:</p>
<ul>
<li>There is no data from Australia for 2006-2007</li>
<li>Both countries have data from 2008-2016</li>
<li>There is no data from the UK for 2017-2019</li>
</ul>
<p>How many articles with how many words do we have in Australia in 2017 - 2019?</p>
<div class="cell" data-hash="dataEDA_cache/html/tbl-l20220930185538_6f3ecb854fd2d62be21aa70d811eb829">
<details><summary>Code</summary><div class="sourceCode" id="cb37"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">aus_missing_summary</span> <span class="op">&lt;-</span> <span class="va">aus_metadata</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">year</span> <span class="op">&gt;=</span> <span class="fl">2017</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">year</span>, <span class="va">source_type</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span><span class="op">(</span>count <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html">n</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>            wc <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">no_words_in_text</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_wider.html">pivot_wider</a></span><span class="op">(</span>names_from <span class="op">=</span> <span class="va">source_type</span>, values_from <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"count"</span>, <span class="st">"wc"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">aus_full_summary</span> <span class="op">&lt;-</span> <span class="va">aus_metadata</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">year</span>, <span class="va">source_type</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span><span class="op">(</span>count <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html">n</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>            wc <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">no_words_in_text</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_wider.html">pivot_wider</a></span><span class="op">(</span>names_from <span class="op">=</span> <span class="va">source_type</span>, values_from <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"count"</span>, <span class="st">"wc"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">aus_missing_summary</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div id="tbl-l20220930185538">
<table class="table table-sm table-striped">
<caption>Table&nbsp;20: Number of articles and their word count, from Australian tabloids and broadsheets, filtered out from the dataset due to no matching data existing from the UK.</caption>
<thead><tr class="header">
<th style="text-align: right;">year</th>
<th style="text-align: right;">count_broadsheet</th>
<th style="text-align: right;">count_tabloid</th>
<th style="text-align: right;">wc_broadsheet</th>
<th style="text-align: right;">wc_tabloid</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">2017</td>
<td style="text-align: right;">179</td>
<td style="text-align: right;">218</td>
<td style="text-align: right;">147728</td>
<td style="text-align: right;">122405</td>
</tr>
<tr class="even">
<td style="text-align: right;">2018</td>
<td style="text-align: right;">182</td>
<td style="text-align: right;">246</td>
<td style="text-align: right;">170085</td>
<td style="text-align: right;">140285</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2019</td>
<td style="text-align: right;">108</td>
<td style="text-align: right;">166</td>
<td style="text-align: right;">95962</td>
<td style="text-align: right;">77633</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>Total filtered out from Australian corpus:</p>
<div class="cell" data-hash="dataEDA_cache/html/tbl-l20220930185538c_5e118afec3436de2db479cded7b7ff4c">
<details><summary>Code</summary><div class="sourceCode" id="cb38"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">summary_clean</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">df</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">x</span> <span class="op">&lt;-</span> <span class="va">df</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">ungroup</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/across.html">across</a></span><span class="op">(</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/everything.html">everything</a></span><span class="op">(</span><span class="op">)</span>, <span class="va">sum</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">year</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu">data.table</span><span class="fu">::</span><span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/transpose.html">transpose</a></span><span class="op">(</span><span class="op">)</span> </span>
<span>  <span class="va">x</span><span class="op">$</span><span class="va">variable</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span> <span class="op">!=</span> <span class="st">"year"</span><span class="op">]</span></span>
<span>  <span class="va">x</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">variable</span>, <span class="va">V1</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="fu">summary_clean</span><span class="op">(</span><span class="va">aus_full_summary</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html">rename</a></span><span class="op">(</span>full_dataset <span class="op">=</span> <span class="va">V1</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">left_join</a></span><span class="op">(</span></span>
<span>  <span class="op">{</span><span class="fu">summary_clean</span><span class="op">(</span><span class="va">aus_missing_summary</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html">rename</a></span><span class="op">(</span>filtered_out <span class="op">=</span> <span class="va">V1</span><span class="op">)</span><span class="op">}</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span></span>
<span>    remaining <span class="op">=</span> <span class="va">full_dataset</span> <span class="op">-</span> <span class="va">filtered_out</span>,</span>
<span>    perc_filt_out <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="fl">100</span><span class="op">*</span> <span class="va">filtered_out</span><span class="op">/</span><span class="va">full_dataset</span>, digits <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div id="tbl-l20220930185538c">
<table class="table table-sm table-striped">
<caption>Table&nbsp;21: Proportion of data filtered out from the Australian corpus.</caption>
<colgroup>
<col style="width: 25%">
<col style="width: 19%">
<col style="width: 19%">
<col style="width: 14%">
<col style="width: 20%">
</colgroup>
<thead><tr class="header">
<th style="text-align: left;">variable</th>
<th style="text-align: right;">full_dataset</th>
<th style="text-align: right;">filtered_out</th>
<th style="text-align: right;">remaining</th>
<th style="text-align: right;">perc_filt_out</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">count_broadsheet</td>
<td style="text-align: right;">2210</td>
<td style="text-align: right;">469</td>
<td style="text-align: right;">1741</td>
<td style="text-align: right;">21.22</td>
</tr>
<tr class="even">
<td style="text-align: left;">count_tabloid</td>
<td style="text-align: right;">3168</td>
<td style="text-align: right;">630</td>
<td style="text-align: right;">2538</td>
<td style="text-align: right;">19.89</td>
</tr>
<tr class="odd">
<td style="text-align: left;">wc_broadsheet</td>
<td style="text-align: right;">1860166</td>
<td style="text-align: right;">413775</td>
<td style="text-align: right;">1446391</td>
<td style="text-align: right;">22.24</td>
</tr>
<tr class="even">
<td style="text-align: left;">wc_tabloid</td>
<td style="text-align: right;">1758364</td>
<td style="text-align: right;">340323</td>
<td style="text-align: right;">1418041</td>
<td style="text-align: right;">19.35</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>How many articles with how many words do we have in the UK in 2006 - 2007?</p>
<div class="cell" data-hash="dataEDA_cache/html/tbl-l20220930185538d_28f2ebd809f79bdd90ecd81028cf138d">
<details><summary>Code</summary><div class="sourceCode" id="cb39"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">uk_missing_summary</span> <span class="op">&lt;-</span> <span class="va">full_metadata</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">corpus</span> <span class="op">==</span> <span class="st">"UK"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">year</span> <span class="op">&lt;=</span> <span class="fl">2007</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">year</span>, <span class="va">source_type</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span><span class="op">(</span>count <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html">n</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>            wc <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">no_words_in_text</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_wider.html">pivot_wider</a></span><span class="op">(</span>names_from <span class="op">=</span> <span class="va">source_type</span>, values_from <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"count"</span>, <span class="st">"wc"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">uk_missing_summary</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div id="tbl-l20220930185538d">
<table class="table table-sm table-striped">
<caption>Table&nbsp;22: Number of articles and their word count, from UK tabloids and broadsheets, filtered out from the dataset due to no matching data existing from Australia.</caption>
<thead><tr class="header">
<th style="text-align: right;">year</th>
<th style="text-align: right;">count_broadsheet</th>
<th style="text-align: right;">count_tabloid</th>
<th style="text-align: right;">wc_broadsheet</th>
<th style="text-align: right;">wc_tabloid</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">2006</td>
<td style="text-align: right;">773</td>
<td style="text-align: right;">571</td>
<td style="text-align: right;">554728</td>
<td style="text-align: right;">338643</td>
</tr>
<tr class="even">
<td style="text-align: right;">2007</td>
<td style="text-align: right;">754</td>
<td style="text-align: right;">775</td>
<td style="text-align: right;">539666</td>
<td style="text-align: right;">443126</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>Total filtered out from UK corpus:</p>
<div class="cell" data-hash="dataEDA_cache/html/tbl-l20220930185538z_5b87a9f2018d458c77c65fd346622454">
<details><summary>Code</summary><div class="sourceCode" id="cb40"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">uk_full_summary</span> <span class="op">&lt;-</span>  <span class="va">full_metadata</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">corpus</span> <span class="op">==</span> <span class="st">"UK"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">year</span>, <span class="va">source_type</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span><span class="op">(</span>count <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html">n</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>            wc <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">no_words_in_text</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_wider.html">pivot_wider</a></span><span class="op">(</span>names_from <span class="op">=</span> <span class="va">source_type</span>, values_from <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"count"</span>, <span class="st">"wc"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">summary_clean</span><span class="op">(</span><span class="va">uk_full_summary</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html">rename</a></span><span class="op">(</span>full_dataset <span class="op">=</span> <span class="va">V1</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">left_join</a></span><span class="op">(</span></span>
<span>  <span class="op">{</span><span class="fu">summary_clean</span><span class="op">(</span><span class="va">uk_missing_summary</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html">rename</a></span><span class="op">(</span>filtered_out <span class="op">=</span> <span class="va">V1</span><span class="op">)</span><span class="op">}</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span></span>
<span>    remaining <span class="op">=</span> <span class="va">full_dataset</span> <span class="op">-</span> <span class="va">filtered_out</span>,</span>
<span>    perc_filt_out <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="fl">100</span><span class="op">*</span> <span class="va">filtered_out</span><span class="op">/</span><span class="va">full_dataset</span>, digits <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div id="tbl-l20220930185538z">
<table class="table table-sm table-striped">
<caption>Table&nbsp;23: Proportion of data filtered out from the UK corpus.</caption>
<colgroup>
<col style="width: 25%">
<col style="width: 19%">
<col style="width: 19%">
<col style="width: 14%">
<col style="width: 20%">
</colgroup>
<thead><tr class="header">
<th style="text-align: left;">variable</th>
<th style="text-align: right;">full_dataset</th>
<th style="text-align: right;">filtered_out</th>
<th style="text-align: right;">remaining</th>
<th style="text-align: right;">perc_filt_out</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">count_broadsheet</td>
<td style="text-align: right;">7556</td>
<td style="text-align: right;">1527</td>
<td style="text-align: right;">6029</td>
<td style="text-align: right;">20.21</td>
</tr>
<tr class="even">
<td style="text-align: left;">count_tabloid</td>
<td style="text-align: right;">7801</td>
<td style="text-align: right;">1346</td>
<td style="text-align: right;">6455</td>
<td style="text-align: right;">17.25</td>
</tr>
<tr class="odd">
<td style="text-align: left;">wc_broadsheet</td>
<td style="text-align: right;">5427551</td>
<td style="text-align: right;">1094394</td>
<td style="text-align: right;">4333157</td>
<td style="text-align: right;">20.16</td>
</tr>
<tr class="even">
<td style="text-align: left;">wc_tabloid</td>
<td style="text-align: right;">4377933</td>
<td style="text-align: right;">781769</td>
<td style="text-align: right;">3596164</td>
<td style="text-align: right;">17.86</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>


</section></main></div>
    </div>
  </div>
</div>
<!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } 
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->
<footer class="footer"><div class="nav-footer">
      <div class="nav-footer-center">Copyright 2022, Darya Vanichkina, Sydney Informatics Hub</div>
  </div>
</footer>


</body></html>